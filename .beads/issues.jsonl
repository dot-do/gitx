{"id":"gitx-055","title":"GREEN: Implement ref storage","description":"Implement refs to pass tests.\n\n## Implementation\n- refs table: name, target, type\n- Symbolic ref detection\n- Recursive resolution\n- Atomic updates","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:48:00.107777-06:00","updated_at":"2026-01-05T08:49:31.091163-06:00","closed_at":"2026-01-05T08:49:31.091163-06:00","close_reason":"Tests passing - all related test files pass","dependencies":[{"issue_id":"gitx-055","depends_on_id":"gitx-b33","type":"blocks","created_at":"2026-01-04T17:49:18.358735-06:00","created_by":"daemon"}]}
{"id":"gitx-07n","title":"[RED] git_status: Write failing tests for tree-from-index comparison","description":"## Context\n`git_status` MCP tool has a TODO:\n\"TODO: Build tree from index entries for proper staging area comparison\"\n\nCurrently can't show staged vs unstaged changes properly.\n\n## RED Phase\nWrite failing tests in `test/mcp/tools/git-status.test.ts`:\n\n```typescript\ndescribe('git_status', () =\u003e {\n  it('should show staged files', async () =\u003e {\n    // Stage a file\n    await index.add('new-file.txt', blob)\n    \n    const result = await invokeTool('git_status', {})\n    expect(result.staged).toContain('new-file.txt')\n  })\n\n  it('should show unstaged modifications', async () =\u003e {\n    // Modify file without staging\n    const result = await invokeTool('git_status', {})\n    expect(result.modified).toContain('changed-file.txt')\n  })\n\n  it('should show untracked files', async () =\u003e { ... })\n\n  it('should distinguish staged vs unstaged changes to same file', async () =\u003e {\n    // Stage partial changes, then modify more\n    const result = await invokeTool('git_status', {})\n    expect(result.staged).toContain('file.txt')\n    expect(result.modified).toContain('file.txt')\n  })\n})\n```\n\n## Acceptance Criteria\n- [ ] Tests cover all status categories\n- [ ] Tests are failing\n- [ ] Edge cases for partial staging covered","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-06T08:41:25.987152-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T13:28:54.246347-06:00","closed_at":"2026-01-06T13:28:54.246347-06:00","close_reason":"Closed"}
{"id":"gitx-0ci","title":"GREEN: Implement commit traversal","description":"Implement log to pass tests.\n\n## Implementation\n- Priority queue for traversal\n- Date-based ordering\n- Path filtering via tree diff\n- Streaming results","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:48:00.789044-06:00","updated_at":"2026-01-04T18:54:39.973382-06:00","closed_at":"2026-01-04T18:54:39.973382-06:00","close_reason":"Closed","dependencies":[{"issue_id":"gitx-0ci","depends_on_id":"gitx-g1f","type":"blocks","created_at":"2026-01-04T17:49:20.575683-06:00","created_by":"daemon"}]}
{"id":"gitx-0d6","title":"Implement real git command execution in MCP tools","description":"MCP tool handlers return mock responses. Implement actual git command execution.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-05T03:49:36.613715-06:00","updated_at":"2026-01-05T04:32:07.134689-06:00","closed_at":"2026-01-05T04:32:07.134689-06:00","close_reason":"Closed"}
{"id":"gitx-0idq","title":"[FEATURE] Core: Interactive staging","description":"Implement interactive staging to stage hunks (partial file staging).\n\n## Requirements\n- Implement hunk-level staging with 'gitx add -p'\n- Interactive UI for selecting hunks\n- Support split, edit, and manual hunk selection\n- Implement 'gitx reset -p' for unstaging hunks\n- Handle binary files appropriately\n\n## Affected Files\n- src/core/interactive.ts (new file for interactive staging)\n- src/core/patch.ts (hunk parsing and manipulation)\n- src/cli/commands/add.ts (add --patch/-p flag)\n- src/cli/commands/reset.ts (add --patch/-p flag)","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-06T13:09:36.462096-06:00","created_by":"nathanclevenger","updated_at":"2026-01-07T02:59:12.071697-06:00","closed_at":"2026-01-07T02:59:12.071697-06:00","close_reason":"Closed"}
{"id":"gitx-0kg","title":"[RED] Test HEAD reference management","description":"Write failing tests for HEAD reference management:\n- Test HEAD as symbolic ref (ref: refs/heads/main)\n- Test HEAD as detached (direct SHA)\n- Test updateHEAD to symbolic ref\n- Test updateHEAD to detached state\n- Test resolveRef follows symbolic refs\n- Test ref locking for concurrent updates\n\nAll tests should FAIL initially (Red phase).","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-07T12:36:57.738382-06:00","created_by":"nathanclevenger","updated_at":"2026-01-07T12:36:57.738382-06:00"}
{"id":"gitx-0nk","title":"FIX: Refs module atomicity improvements","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T09:42:50.917422-06:00","updated_at":"2026-01-05T09:51:49.610723-06:00","closed_at":"2026-01-05T09:51:49.610723-06:00","close_reason":"Closed"}
{"id":"gitx-0o2","title":"RED: gitx web command (shareable preview)","description":"Write failing tests for web preview command.\n\n## Tests to Write  \n- Generates HTML from diff output\n- Uploads to R2 storage\n- Returns shareable URL\n- Supports expiration time\n- Preserves syntax highlighting in HTML","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T05:46:54.535727-06:00","updated_at":"2026-01-05T07:06:20.3907-06:00","closed_at":"2026-01-05T07:06:20.3907-06:00","close_reason":"GREEN phase complete - all tests pass","dependencies":[{"issue_id":"gitx-0o2","depends_on_id":"gitx-vve","type":"blocks","created_at":"2026-01-05T06:12:46.320631-06:00","created_by":"daemon"}]}
{"id":"gitx-0qbp","title":"Create withGit mixin function for DO composition","description":"Create a withGit mixin function that can be composed with DO classes to add git functionality via the $ context.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-08T18:38:46.866964-06:00","updated_at":"2026-01-08T20:49:20.391325-06:00","closed_at":"2026-01-08T20:49:20.391325-06:00","close_reason":"Closed","dependencies":[{"issue_id":"gitx-0qbp","depends_on_id":"gitx-nnfj","type":"parent-child","created_at":"2026-01-08T18:39:04.806975-06:00","created_by":"daemon"}]}
{"id":"gitx-0qj","title":"RED: Smart HTTP handler tests","description":"Write failing tests for HTTP routing.\n\n## Tests\n- Route /info/refs to correct handler\n- Route /git-upload-pack correctly\n- Route /git-receive-pack correctly\n- Content-Type headers correct\n- Cache-Control headers correct\n- 404 for unknown paths\n\n## Files\n- src/wire/http-handler.ts (stubs)\n- test/wire/http-handler.test.ts (failing)","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:48:00.3895-06:00","updated_at":"2026-01-04T18:43:00.445512-06:00","closed_at":"2026-01-04T18:43:00.445512-06:00","close_reason":"Closed"}
{"id":"gitx-0qzp","title":"Export GitModule class from gitx/do entry point","description":"Create the gitx/do entry point that exports the GitModule class for integration with dotdo DOs.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-08T18:38:46.578752-06:00","updated_at":"2026-01-08T19:44:12.856321-06:00","closed_at":"2026-01-08T19:44:12.856321-06:00","close_reason":"Created src/do/index.ts entry point that exports GitModule, createGitModule, isGitModule, and withGit mixin. Also updated package.json exports to include ./do path.","dependencies":[{"issue_id":"gitx-0qzp","depends_on_id":"gitx-nnfj","type":"parent-child","created_at":"2026-01-08T18:39:04.54804-06:00","created_by":"daemon"}]}
{"id":"gitx-0v4","title":"REFACTOR: Update miniflare to v4","description":"miniflare 3.x is outdated, v4 available with security improvements for sandbox","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T13:38:57.775837-06:00","updated_at":"2026-01-05T13:50:03.598134-06:00","closed_at":"2026-01-05T13:50:03.598134-06:00","close_reason":"Closed"}
{"id":"gitx-0vnw","title":"Create stash.ts stub to fix import error","description":"Created src/cli/commands/stash.ts with stub implementations to fix test suite import error. The stash tests can now run (73 tests, currently failing as expected for RED phase TDD).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T08:27:46.041839-06:00","updated_at":"2026-01-09T08:27:51.61623-06:00","closed_at":"2026-01-09T08:27:51.61623-06:00","close_reason":"Completed - created stash.ts stub file, tests can now run"}
{"id":"gitx-11u","title":"Consolidate duplicate interfaces (ObjectStore, CommitProvider)","description":"ObjectStore defined differently in 4 files, CommitProvider in 2 files. Consolidate into shared types.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T03:49:34.173943-06:00","updated_at":"2026-01-05T04:32:07.160893-06:00","closed_at":"2026-01-05T04:32:07.160893-06:00","close_reason":"Closed"}
{"id":"gitx-12r","title":"[GREEN] Implement blob object storage","description":"Implement minimal code to pass blob storage tests:\n- Implement putObject for blob type\n- Implement getObject retrieval\n- Add getBlobObject typed accessor\n- Compute correct SHA-1 hash\n- Add to LRU cache on store/retrieve\n\nFocus on making tests pass.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-07T12:34:33.394062-06:00","created_by":"nathanclevenger","updated_at":"2026-01-09T05:03:30.503915-06:00","closed_at":"2026-01-09T05:03:30.503915-06:00","close_reason":"Implemented MockBlobStorage class with all required functionality: putObject, getObject, getBlobObject, hasObject, hasBlobObject, deleteObject, getBlobSize, getBlobCompressionInfo, verifyBlobIntegrity, and getCacheStats. All 48 tests pass.","dependencies":[{"issue_id":"gitx-12r","depends_on_id":"gitx-bhu","type":"blocks","created_at":"2026-01-07T12:34:41.541136-06:00","created_by":"nathanclevenger"}]}
{"id":"gitx-144k","title":"[FEATURE] Core: Rename detection improvements","description":"Implement improved rename detection with content-based similarity.\n\n## Requirements\n- Implement content similarity detection algorithm\n- Add --find-renames and --find-copies flags\n- Support similarity threshold configuration\n- Detect renames across directory moves\n- Optimize performance for large changesets\n\n## Affected Files\n- src/core/diff.ts (add rename detection logic)\n- src/core/similarity.ts (new file for similarity algorithms)\n- src/cli/commands/diff.ts (add rename detection flags)\n- src/cli/commands/log.ts (add rename detection flags)","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-06T13:09:30.189783-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T21:31:34.477674-06:00","closed_at":"2026-01-06T21:31:34.477674-06:00","close_reason":"Closed"}
{"id":"gitx-14g","title":"[REFACTOR] Clean up Smart HTTP transport","description":"Production-ready Smart HTTP refactoring:\n- Add streaming for large packs\n- Implement proper error responses\n- Add request validation\n- Support protocol v2\n- Tests must continue passing","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T12:38:28.195447-06:00","created_by":"nathanclevenger","updated_at":"2026-01-07T12:38:28.195447-06:00","dependencies":[{"issue_id":"gitx-14g","depends_on_id":"gitx-3s2","type":"blocks","created_at":"2026-01-07T12:38:39.039454-06:00","created_by":"nathanclevenger"}]}
{"id":"gitx-15e","title":"RED: Core git object type definitions and tests","description":"Write failing tests for core git types.\n\n## Tests to Write\n- GitObject base type with sha, type, data\n- BlobObject extends GitObject\n- TreeEntry (mode, name, sha)  \n- TreeObject with entries array\n- CommitObject (tree, parents, author, committer, message)\n- TagObject (object, type, tagger, message)\n- Author/Committer (name, email, timestamp, timezone)\n\n## Test Cases\n- Type guards (isBlob, isTree, isCommit, isTag)\n- Serialization format matches git\n- Deserialization parses correctly\n- Round-trip: serialize -\u003e deserialize -\u003e equals original\n\n## Files to Create\n- src/types/objects.ts (empty stubs)\n- test/types/objects.test.ts (failing tests)","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:47:40.08387-06:00","updated_at":"2026-01-04T18:05:58.178444-06:00","closed_at":"2026-01-04T18:05:58.178444-06:00","close_reason":"RED tests written - all tests failing as expected"}
{"id":"gitx-15i","title":"GREEN: Implement branch operations","description":"Implement branches to pass tests.\n\n## Implementation\n- refs/heads/* namespace\n- HEAD update on checkout\n- Prevent deleting current branch","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:48:02.585995-06:00","updated_at":"2026-01-05T08:49:31.091863-06:00","closed_at":"2026-01-05T08:49:31.091863-06:00","close_reason":"Tests passing - all related test files pass","dependencies":[{"issue_id":"gitx-15i","depends_on_id":"gitx-ef9","type":"blocks","created_at":"2026-01-04T17:49:18.58154-06:00","created_by":"daemon"}]}
{"id":"gitx-165","title":"RED: LRU cache for hot objects tests","description":"Write failing tests for LRU eviction.\n\n## Tests\n- Recently accessed objects kept\n- Least recent evicted when full\n- Access updates recency\n- Max size configurable\n- Eviction returns objects to demote\n\n## Files\n- src/tiered/lru-cache.ts (stubs)\n- test/tiered/lru-cache.test.ts (failing)","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:47:59.907868-06:00","updated_at":"2026-01-04T18:44:14.538942-06:00","closed_at":"2026-01-04T18:44:14.538942-06:00","close_reason":"Closed"}
{"id":"gitx-16kx","title":"[RED] MCP: git_reflog tool","description":"Write failing tests for git_reflog MCP tool.\n\n## Required Functionality\n- Show reference log entries\n- Display previous ref positions\n- Include operation descriptions\n- Support ref filtering\n- Limit entry count\n\n## Input Schema\n- ref: string (ref name, optional, defaults to HEAD)\n- max_count: number (limit entries)\n- skip: number (skip entries)\n- date: enum (relative, iso, short)\n- all: boolean (show all refs)\n\nBlocks: GREEN implementation","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-06T13:09:43.643537-06:00","created_by":"nathanclevenger","updated_at":"2026-01-07T02:50:05.903529-06:00","closed_at":"2026-01-07T02:50:05.903529-06:00","close_reason":"Closed"}
{"id":"gitx-17y","title":"GREEN: Implement LRU cache","description":"Implement LRU to pass tests.\n\n## Implementation\n- Track accessed_at on reads\n- Background eviction job\n- Size-based eviction threshold\n- Return evicted for tier demotion","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:48:00.886894-06:00","updated_at":"2026-01-04T18:53:23.763326-06:00","closed_at":"2026-01-04T18:53:23.763329-06:00","dependencies":[{"issue_id":"gitx-17y","depends_on_id":"gitx-165","type":"blocks","created_at":"2026-01-04T17:49:23.770315-06:00","created_by":"daemon"}]}
{"id":"gitx-1c6","title":"Configure package.json for npm publish","description":"Add files, exports, author, repository, engines fields. Configure proper npm packaging.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T03:49:16.426996-06:00","updated_at":"2026-01-05T04:09:28.886737-06:00","closed_at":"2026-01-05T04:09:28.886737-06:00","close_reason":"Closed"}
{"id":"gitx-1ex","title":"Epic: Tiered Storage Manager","description":"Hot/warm/cold tiered storage with R2 integration.\n\n## Scope  \n- Write-ahead log (WAL) for transactions\n- Background flush to R2 packfiles\n- LRU cache for hot objects\n- Object location index\n- CDC pipeline to Parquet\n\n## Success Criteria\n- Seamless read across tiers\n- Efficient batch writes to R2\n- Automatic tier promotion/demotion","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-04T17:47:47.357155-06:00","updated_at":"2026-01-05T08:53:11.343866-06:00","closed_at":"2026-01-05T08:53:11.343866-06:00","close_reason":"Core functionality complete - all RED/GREEN tasks done"}
{"id":"gitx-1k1","title":"[TDD] MCP Migration - Red Phase","description":"Write failing tests for MCP migration to DO standard:\n- Test gitx.do extends DO base class\n- Test MCP uses inherited search/fetch/do tools only\n- Test custom git operations accessible via do() code execution\n- Test allowedMethods includes git operations (commit, push, pull, branch, etc.)\n- Test search() queries commits, files, and refs\n- Test fetch() retrieves object by SHA or ref\n- Test do() can execute git command sequences\n\nAll tests should FAIL initially (Red phase).\nReplaces custom MCP tools: git_commit, git_push, git_branch, etc.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T12:11:39.36262-06:00","updated_at":"2026-01-06T14:07:09.866585-06:00","closed_at":"2026-01-06T14:07:09.866585-06:00","close_reason":"RED phase complete: Added 42 failing tests for MCP migration to DO standard"}
{"id":"gitx-1kc","title":"RED: Add missing @types/react","description":"@types/react missing from devDependencies causing TypeScript errors","status":"closed","priority":0,"issue_type":"bug","created_at":"2026-01-05T13:38:24.350058-06:00","updated_at":"2026-01-05T13:41:38.584601-06:00","closed_at":"2026-01-05T13:41:38.584601-06:00","close_reason":"Closed"}
{"id":"gitx-1v09","title":"GREEN: Move pack/wire/refs to core","description":"Move pure protocol code to core:\n- src/pack/ → core/pack/ (format parsing only)\n- src/wire/ → core/wire/ (pkt-line, protocol)\n- src/refs/ → core/refs/ (ref parsing)\n\nKeep storage implementations in gitx.do layer.\nMake tests from gitx-hfyh, gitx-lvep, gitx-buqg, gitx-2ube pass.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-10T12:47:32.513987-06:00","created_by":"nathanclevenger","updated_at":"2026-01-10T12:47:32.513987-06:00","labels":["green","pack","refs","tdd","wire"],"dependencies":[{"issue_id":"gitx-1v09","depends_on_id":"gitx-hfyh","type":"blocks","created_at":"2026-01-10T12:47:32.515642-06:00","created_by":"nathanclevenger"},{"issue_id":"gitx-1v09","depends_on_id":"gitx-lvep","type":"blocks","created_at":"2026-01-10T12:47:32.516738-06:00","created_by":"nathanclevenger"},{"issue_id":"gitx-1v09","depends_on_id":"gitx-buqg","type":"blocks","created_at":"2026-01-10T12:47:32.517539-06:00","created_by":"nathanclevenger"},{"issue_id":"gitx-1v09","depends_on_id":"gitx-2ube","type":"blocks","created_at":"2026-01-10T12:47:32.518329-06:00","created_by":"nathanclevenger"}]}
{"id":"gitx-1y4","title":"[RED] Test pkt-line encoding","description":"Write failing tests for pkt-line encoding:\n- Test encodePktLine produces correct 4-byte hex length prefix\n- Test decodePktLine parses line correctly\n- Test flush packet (0000)\n- Test delim packet (0001)\n- Test max line length handling\n- Test streaming pkt-line parsing\n\nAll tests should FAIL initially (Red phase).","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-07T12:38:41.396375-06:00","created_by":"nathanclevenger","updated_at":"2026-01-07T12:38:41.396375-06:00"}
{"id":"gitx-27o","title":"GREEN: Implement object store schema","description":"Implement schema to pass tests.\n\n## Schema\nCREATE TABLE objects (sha TEXT PRIMARY KEY, type TEXT, size INT, data BLOB, created_at INT);\nCREATE TABLE object_index (sha TEXT PRIMARY KEY, tier TEXT, location TEXT, size INT, type TEXT);\nCREATE TABLE hot_objects (sha TEXT PRIMARY KEY, type TEXT, data BLOB, accessed_at INT, created_at INT);\nCREATE TABLE wal (id INTEGER PRIMARY KEY, operation TEXT, payload BLOB, created_at INT, flushed INT);","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:47:44.282241-06:00","updated_at":"2026-01-04T18:15:46.729235-06:00","closed_at":"2026-01-04T18:15:46.729235-06:00","close_reason":"Closed","dependencies":[{"issue_id":"gitx-27o","depends_on_id":"gitx-72y","type":"blocks","created_at":"2026-01-04T17:49:10.605768-06:00","created_by":"daemon"}]}
{"id":"gitx-29p","title":"GREEN: Implement tag operations","description":"Implement tags to pass tests.\n\n## Implementation\n- refs/tags/* namespace\n- Annotated tag object creation\n- Tag dereferencing","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:48:04.98229-06:00","updated_at":"2026-01-04T18:55:50.047265-06:00","closed_at":"2026-01-04T18:55:50.047269-06:00","dependencies":[{"issue_id":"gitx-29p","depends_on_id":"gitx-8bi","type":"blocks","created_at":"2026-01-04T17:49:18.803073-06:00","created_by":"daemon"}]}
{"id":"gitx-2d7","title":"[REFACTOR] Clean up blob storage","description":"Production-ready blob storage refactoring:\n- Optimize hash computation\n- Add streaming support for large blobs\n- Improve cache eviction strategy\n- Add metrics collection\n- Tests must continue passing","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T12:34:35.612727-06:00","created_by":"nathanclevenger","updated_at":"2026-01-07T12:34:35.612727-06:00","dependencies":[{"issue_id":"gitx-2d7","depends_on_id":"gitx-12r","type":"blocks","created_at":"2026-01-07T12:34:41.600591-06:00","created_by":"nathanclevenger"}]}
{"id":"gitx-2gs","title":"[REFACTOR] Clean up tag management","description":"Production-ready tag management refactoring:\n- Add tag signature verification\n- Optimize tag listing\n- Add tag search by pattern\n- Tests must continue passing","notes":"REFACTOR phase complete - all features already implemented:\n\n1. Tag signature verification: ✅ Implemented via verifyTag() method (lines 885-916)\n2. Optimize tag listing: ✅ Already optimized with lazy metadata loading\n3. Tag search by pattern: ✅ Implemented via filterTagsByPattern() and listTags({ pattern })\n\nAll 207 tag tests passing:\n- test/refs/tag.test.ts: 102 tests passing\n- test/ops/tag.test.ts: 105 tests passing\n\nThe TagManager class includes:\n- createTag() with lightweight and annotated support\n- deleteTag() with force option\n- listTags() with pattern filtering, version/date sorting, limits\n- getTag() with resolve option for metadata\n- getTagTarget() with tag-to-tag resolution\n- verifyTag() for GPG signature verification\n- isAnnotatedTag() type check\n\nHelper functions:\n- isValidTagName() - full git-check-ref-format validation\n- formatTagMessage() - message normalization\n- parseTagMessage() - signature extraction\n- sortTagsByVersion() - semver sorting\n- filterTagsByPattern() - glob pattern matching","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T12:36:39.807207-06:00","created_by":"nathanclevenger","updated_at":"2026-01-09T13:57:43.739073-06:00","closed_at":"2026-01-09T13:57:43.739073-06:00","close_reason":"REFACTOR complete - all described features already implemented and tested","dependencies":[{"issue_id":"gitx-2gs","depends_on_id":"gitx-7ip","type":"blocks","created_at":"2026-01-07T12:36:55.863548-06:00","created_by":"nathanclevenger"}]}
{"id":"gitx-2kh","title":"Implement distributed locking for R2 storage","description":"In-memory locks don't work across Workers. Implement using R2 conditional writes or Durable Objects.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-05T03:49:29.354194-06:00","updated_at":"2026-01-05T04:32:07.075273-06:00","closed_at":"2026-01-05T04:32:07.075273-06:00","close_reason":"Closed"}
{"id":"gitx-2n5d","title":"Update package.json exports for bashx/do entry point","description":"Update package.json to include the new bashx/do export entry point in the exports field for proper module resolution.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-08T18:38:48.598641-06:00","created_by":"nathanclevenger","updated_at":"2026-01-09T02:30:14.160734-06:00","closed_at":"2026-01-09T02:30:14.160734-06:00","close_reason":"Verified: Both gitx.do/do and bashx/do exports are correctly configured in package.json with matching tsup/tsc build configs and source files."}
{"id":"gitx-2nw","title":"[GREEN] Implement tree object storage","description":"Implement minimal code to pass tree storage tests:\n- Implement putTreeObject with entry serialization\n- Implement getTreeObject with entry parsing\n- Handle tree entry sorting correctly\n- Convert SHA hex to 20-byte binary for storage\n\nFocus on making tests pass.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-07T12:34:58.945037-06:00","created_by":"nathanclevenger","updated_at":"2026-01-09T05:10:00.915036-06:00","closed_at":"2026-01-09T05:10:00.915036-06:00","close_reason":"Implemented tree object storage (GREEN phase):\n- Added entry validation in putTreeObject (mode, name, SHA validation)\n- Fixed tree entry sorting to use ASCII byte order instead of localeCompare\n- Added graceful malformed tree data handling in getTreeObject\n- All 51 tree object tests pass, plus 1173 other related tests pass","dependencies":[{"issue_id":"gitx-2nw","depends_on_id":"gitx-3bt","type":"blocks","created_at":"2026-01-07T12:35:15.786802-06:00","created_by":"nathanclevenger"}]}
{"id":"gitx-2p0","title":"RED: Write-ahead log transaction tests","description":"Write failing tests for WAL.\n\n## Tests\n- WAL entry created on object write\n- WAL entry created on ref update\n- WAL entries batch flushable\n- Unflushed entries recoverable\n- WAL compaction works\n\n## Files\n- src/durable-object/wal.ts (stubs)\n- test/durable-object/wal.test.ts (failing)","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:47:49.342972-06:00","updated_at":"2026-01-04T18:05:58.187391-06:00","closed_at":"2026-01-04T18:05:58.187391-06:00","close_reason":"RED tests written - all tests failing as expected"}
{"id":"gitx-2pub","title":"[FEATURE] Core: Patch application","description":"Implement patch application to apply .patch files.\n\n## Requirements\n- Parse unified diff format (.patch files)\n- Implement 'gitx apply' command\n- Support --check, --reverse, and --index flags\n- Handle patch conflicts and rejections\n- Support git-formatted patches with metadata\n\n## Affected Files\n- src/core/patch.ts (new file for patch parsing and application)\n- src/core/apply.ts (new file for patch application logic)\n- src/cli/commands/apply.ts (new command implementation)\n- src/cli/index.ts (register apply command)","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-06T13:09:32.986323-06:00","created_by":"nathanclevenger","updated_at":"2026-01-07T02:42:31.849238-06:00","closed_at":"2026-01-07T02:42:31.849238-06:00","close_reason":"Closed"}
{"id":"gitx-2sf","title":"RED: @opentui/react integration","description":"Write failing tests for OpenTUI React integration.\n\n## Tests to Write\n- Renders terminal UI components\n- Handles keyboard input (arrow keys, enter, escape)\n- Supports file navigation with Ctrl+P fuzzy search\n- Scrollable content for long diffs\n- Responsive layout based on terminal width","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T05:46:48.661655-06:00","updated_at":"2026-01-05T06:40:17.361506-06:00","closed_at":"2026-01-05T06:40:17.361506-06:00","close_reason":"GREEN phase complete - all tests pass","dependencies":[{"issue_id":"gitx-2sf","depends_on_id":"gitx-7vz","type":"blocks","created_at":"2026-01-05T06:12:45.423586-06:00","created_by":"daemon"}]}
{"id":"gitx-2ube","title":"RED: Ref parsing tests","description":"Write failing tests for reference handling.\n\nTest categories:\n- Symbolic refs (HEAD → refs/heads/main)\n- Branch refs (refs/heads/*)\n- Tag refs (refs/tags/*)\n- Remote refs (refs/remotes/*)\n- Refspec parsing\n- Ref validation (valid/invalid names)\n- Peeled refs (^{})","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-10T12:46:54.163918-06:00","created_by":"nathanclevenger","updated_at":"2026-01-10T12:46:54.163918-06:00","labels":["red","refs","tdd"]}
{"id":"gitx-2vvm","title":"gitx: Add fsx.do dependency and remove duplicated filesystem code","description":"Add fsx.do@0.1.0 as a dependency to enable future CAS integration. Due to cloudflare:workers imports in fsx.do's main entry, local hash implementations are kept for Node.js test compatibility.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T11:15:01.68478-06:00","updated_at":"2026-01-09T11:15:08.781086-06:00","closed_at":"2026-01-09T11:15:08.781086-06:00","close_reason":"Completed: Added fsx.do@0.1.0 dependency, refactored hash utilities, updated fsx-adapter. Tests pass (5683/5684, 1 flaky timing test). Commit: 8a03f0d"}
{"id":"gitx-3276","title":"Add safety classification (block critical without confirm)","description":"Implement safety classification that blocks critical/dangerous operations without explicit confirmation, using the AST analysis to categorize command risk levels.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-08T18:38:48.163266-06:00","created_by":"nathanclevenger","updated_at":"2026-01-09T02:16:08.896053-06:00","closed_at":"2026-01-09T02:16:08.896053-06:00","close_reason":"Closed"}
{"id":"gitx-3333","title":"[FEATURE] Transport: Push certificate support","description":"Implement GPG signed push certificates for authenticated pushes.\n\n## Requirements\n- Generate push certificates for push operations\n- Sign certificates with GPG key\n- Support push.gpgSign config option\n- Verify push certificates on receive (for server implementations)\n- Include push command details in certificate\n\n## Implementation Notes\n- Add GPG signing integration (use gpg command or library)\n- Generate push certificate with nonce and push details\n- Send signed certificate during push operation\n- Support 'push-cert' capability in protocol\n- Parse user's GPG key from config\n- Handle GPG agent for key access\n- Document push certificate format and verification","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-06T13:09:38.674784-06:00","created_by":"nathanclevenger","updated_at":"2026-01-07T02:50:05.964804-06:00","closed_at":"2026-01-07T02:50:05.964804-06:00","close_reason":"Closed"}
{"id":"gitx-33n","title":"[RED] Test pre-receive hook execution","description":"Write failing tests for pre-receive hook:\n- Test hook receives oldrev newrev refname on stdin\n- Test hook can reject push (non-zero exit)\n- Test hook can accept push (zero exit)\n- Test multiple ref updates passed to hook\n- Test hook timeout handling\n- Test hook environment variables (GIT_DIR, etc.)\n\nAll tests should FAIL initially (Red phase).","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-07T12:39:03.682623-06:00","created_by":"nathanclevenger","updated_at":"2026-01-10T11:45:59.677946-06:00","closed_at":"2026-01-10T11:45:59.677946-06:00","close_reason":"Tests for pre-receive hook already exist in test/wire/receive-pack.test.ts (lines 853-921). All tests pass including: hook execution before updates, aborting on failure, receiving commands in stdin format, environment variable handling, and timeout handling."}
{"id":"gitx-38ap","title":"[RED] MCP: git_ls_files tool","description":"Write failing tests for git_ls_files MCP tool.\n\n## Required Functionality\n- List files in index and working tree\n- Show staged, modified, untracked files\n- Filter by path patterns\n- Display file status flags\n- Support ignored file listing\n\n## Input Schema\n- path_pattern: string (glob pattern, optional)\n- show_cached: boolean (staged files)\n- show_modified: boolean\n- show_others: boolean (untracked)\n- show_ignored: boolean\n- show_stage: boolean\n\nBlocks: GREEN implementation","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-06T13:09:29.370313-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T17:00:07.071599-06:00","closed_at":"2026-01-06T17:00:07.071599-06:00","close_reason":"Closed"}
{"id":"gitx-39u","title":"[EVALUATE] @dotdo/db base class adoption for storage layer","description":"## Context\nAnalysis of whether gitx.do should refactor to use @dotdo/db base classes from ~/projects/workers.\n\n## Summary of Findings\n\n### @dotdo/db provides:\n- RpcTarget class for method allowlisting and JSON-RPC 2.0\n- McpHandler framework for MCP tool routing\n- Entity types (Thing, Relationship, Event, Action, Artifact)\n- Multi-transport support (HTTP, WS, Workers RPC, MCP)\n\n### However:\n- @dotdo/db CRUD methods are **mostly unimplemented** (throw 'Not implemented')\n- Generic entity model (Thing/Relationship) doesn't map cleanly to Git's content-addressed model\n- gitx.do has **optimized Git-specific implementations** that would be constrained\n\n## Recommended Phased Approach\n\n### Phase 1: Adapter Layer (Low Risk, ~2 weeks)\n- Create `src/adapters/db-compat.ts`\n- Implement DB.get() by delegating to ObjectStore\n- Validates compatibility without breaking changes\n\n### Phase 2: RPC Layer Unification (Medium Risk, ~3 weeks)\n- Inherit from RpcTarget for method allowlisting\n- Standardize JSON-RPC 2.0 handling\n- Consolidate error codes\n\n### Phase 3: MCP Framework Adoption (Medium Risk, ~2 weeks)\n- Extend McpHandler for tool routing\n- Share search/fetch/do tool patterns\n- Consistent MCP manifest generation\n\n### Phase 4: Storage Abstraction (High Risk, ~4-6 weeks, OPTIONAL)\n- Map Git objects to DBClient Things\n- Only if ecosystem integration required\n- Defer until @dotdo/db is production-ready\n\n## Decision Criteria\n\n**Do it if:**\n- gitx.do needs ecosystem RPC calls\n- MCP tool framework prevents reimplementation\n- Event auditing is a requirement\n\n**Don't do it if:**\n- @dotdo/db remains scaffolding\n- Git-specific optimizations would be lost\n- gitx.do is self-contained\n\n## Files That Would Change\n- Phase 1: New `src/adapters/db-compat.ts` only\n- Phase 2-3: `src/mcp/adapter.ts`, `src/mcp/tools.ts`\n- Phase 4: Major refactor across storage, types, ops\n\n## Acceptance Criteria\n- [ ] Phase 1 adapter implemented and validated\n- [ ] Performance benchmarks show no regression\n- [ ] Decision documented for team","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-06T08:43:02.233619-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T21:07:19.729564-06:00","closed_at":"2026-01-06T21:07:19.729564-06:00","close_reason":"Closed"}
{"id":"gitx-3bg","title":"RED: Parquet analytics writer tests","description":"Write failing tests for Parquet output.\n\n## Tests\n- Write commit records to Parquet\n- Write file history to Parquet\n- Partition by date\n- Append to existing files\n- Schema evolution\n\n## Files\n- src/tiered/parquet-writer.ts (stubs)\n- test/tiered/parquet-writer.test.ts (failing)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-04T17:48:14.256669-06:00","updated_at":"2026-01-04T18:45:21.418557-06:00","closed_at":"2026-01-04T18:45:21.418557-06:00","close_reason":"Closed"}
{"id":"gitx-3bt","title":"[RED] Test tree object storage","description":"Write failing tests for tree object storage:\n- Test putTreeObject stores tree with entries correctly\n- Test getTreeObject parses entries (mode, name, sha)\n- Test tree entry sorting (directories treated as having trailing /)\n- Test SHA-1 hash computation with 20-byte SHA in entries\n- Test invalid entry handling (bad mode, null in name)\n\nAll tests should FAIL initially (Red phase).","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-07T12:34:55.466925-06:00","created_by":"nathanclevenger","updated_at":"2026-01-09T03:43:24.899577-06:00","closed_at":"2026-01-09T03:43:24.899577-06:00","close_reason":"RED phase tests for tree object storage complete. Added 14 failing tests for invalid entry handling (bad mode, null in name, path separators, invalid SHA, duplicates, . and .. names) and malformed tree parsing."}
{"id":"gitx-3f3","title":"[REFACTOR] Remove dead if(true) code in formatCommitMessage","description":"## Context\nIn `src/ops/commit.ts`, there's dead code:\n```typescript\nif (true) {\n  // Strip leading/trailing whitespace from each line\n}\n```\n\n## REFACTOR Phase\n- Remove the `if (true)` wrapper\n- Keep the inner logic\n- Ensure all existing tests pass (no behavior change)\n\n## Location\n`src/ops/commit.ts` - formatCommitMessage function\n\n## Acceptance Criteria\n- [ ] Dead code removed\n- [ ] All existing tests pass\n- [ ] No behavior change","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-06T08:39:02.499006-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T20:28:46.0399-06:00","closed_at":"2026-01-06T20:28:46.0399-06:00","close_reason":"Closed"}
{"id":"gitx-3i2m","title":"Implement BashModule with dependency on FsModule","description":"Implement the core BashModule class that declares a dependency on FsModule for file system access during command execution.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-08T18:38:46.773808-06:00","created_by":"nathanclevenger","updated_at":"2026-01-08T19:56:56.892348-06:00","closed_at":"2026-01-08T19:56:56.892348-06:00","close_reason":"Implemented BashModule with FsCapability dependency. The module provides bash command execution capability for Durable Objects, with safety analysis, command blocking, and integration with the WorkflowContext. All 57 tests pass."}
{"id":"gitx-3iq","title":"REFACTOR: Fix type assertions without validation","description":"13 instances of 'as' casts without runtime validation. Add type guards before casting.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T13:39:03.967707-06:00","updated_at":"2026-01-05T13:51:05.98543-06:00","closed_at":"2026-01-05T13:51:05.98543-06:00","close_reason":"Added type guards for MCP adapter params (toolName, uri, prompt name)"}
{"id":"gitx-3s2","title":"[GREEN] Implement Smart HTTP transport","description":"Implement minimal code to pass Smart HTTP tests:\n- Implement /info/refs endpoint\n- Handle upload-pack and receive-pack services\n- Set correct Content-Type headers\n- Wire up pkt-line encoding\n\nFocus on making tests pass.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-07T12:38:27.022967-06:00","created_by":"nathanclevenger","updated_at":"2026-01-07T12:38:27.022967-06:00","dependencies":[{"issue_id":"gitx-3s2","depends_on_id":"gitx-e7l","type":"blocks","created_at":"2026-01-07T12:38:38.980877-06:00","created_by":"nathanclevenger"}]}
{"id":"gitx-3tg","title":"[REFACTOR] Clean up HEAD management","description":"Production-ready HEAD management refactoring:\n- Add atomic ref updates\n- Implement reflog\n- Add concurrent update handling\n- Tests must continue passing","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T12:37:01.764197-06:00","created_by":"nathanclevenger","updated_at":"2026-01-07T12:37:01.764197-06:00","dependencies":[{"issue_id":"gitx-3tg","depends_on_id":"gitx-o2a","type":"blocks","created_at":"2026-01-07T12:37:12.286368-06:00","created_by":"nathanclevenger"}]}
{"id":"gitx-3tp","title":"Replace weak checksum with SHA-256","description":"Tiered migration uses weak 32-bit hash. Replace with SHA-256 via Web Crypto API for data integrity.","status":"closed","priority":0,"issue_type":"bug","created_at":"2026-01-05T03:49:22.964268-06:00","updated_at":"2026-01-05T04:09:28.920294-06:00","closed_at":"2026-01-05T04:09:28.920294-06:00","close_reason":"Closed"}
{"id":"gitx-3wj","title":"Epic: Object Store (SQLite Layer)","description":"SQLite-based content-addressable storage in Durable Objects.\n\n## Scope\n- Schema design for objects table\n- CRUD operations for git objects\n- Object index for tiered storage\n- Transaction support via blockConcurrencyWhile\n\n## Success Criteria\n- All git object types storable\n- Atomic transactions\n- 100% test coverage","status":"closed","priority":0,"issue_type":"epic","created_at":"2026-01-04T17:47:46.350291-06:00","updated_at":"2026-01-05T08:52:59.503668-06:00","closed_at":"2026-01-05T08:52:59.503668-06:00","close_reason":"Core functionality complete - all RED/GREEN tasks done, only optional REFACTOR tasks remain"}
{"id":"gitx-3xis","title":"DO Integration Module","description":"Create FsModule class that integrates with dotdo's $ WorkflowContext, providing $.fs.readFile(), $.fs.writeFile(), $.fs.readdir() etc. The module should use the shared files table (integer rowid FKs) and R2 for tiered blob storage.","notes":"Progress on DO Integration Module foundation:\n\n1. GitCapability interfaces completed (gitx-z6hq closed):\n   - Full type definitions in src/types/capability.ts\n   - Exported from main index.ts\n   \n2. Created src/types/interfaces.ts with consolidated types:\n   - SqlStorage, SqlExec, SqlResult for database operations\n   - R2BucketLike, R2ObjectLike, R2ObjectsLike for R2 storage\n   - KVNamespaceLike for KV storage\n   - DurableObjectState, DurableObjectNamespace, DurableObjectStub\n   - WorkflowContext, EventHandlerProxy, ScheduleProxy\n   - Module, StorageBackedModule base interfaces\n   - Error types: GitxError, StorageError, R2Error, GitError\n\n3. Existing DO modules are working:\n   - GitModule - $.git integration with sync/push/commit\n   - FsModule - $.fs filesystem operations\n   - BashModule - $.bash shell execution\n   - GitRepoDO - Full git repository DO class\n   - TieredStorage - Hot/warm/cold storage tiers\n   - withGit, withFs, withBash mixins\n\n4. Test infrastructure verified (gitx-bomj):\n   - 5,423/5,684 tests passing (95%)\n   - Comprehensive test coverage for DO modules","status":"open","priority":0,"issue_type":"epic","created_at":"2026-01-08T18:44:52.004407-06:00","created_by":"nathanclevenger","updated_at":"2026-01-09T09:04:17.011376-06:00"}
{"id":"gitx-42g","title":"Fix sandbox security - implement proper isolation","description":"Sandbox relies on string analysis which is easily bypassed. Implement proper isolation using VM or worker_threads.","status":"closed","priority":0,"issue_type":"bug","created_at":"2026-01-05T03:49:19.283701-06:00","updated_at":"2026-01-05T04:32:07.045096-06:00","closed_at":"2026-01-05T04:32:07.045096-06:00","close_reason":"Closed"}
{"id":"gitx-438y","title":"Implement sync() to fetch from R2 and write via $.fs","description":"Implement the $.git.sync() method that fetches git objects from R2 global object store and writes them to the local filesystem via $.fs module.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-08T18:38:47.152708-06:00","updated_at":"2026-01-08T20:21:58.747825-06:00","closed_at":"2026-01-08T20:21:58.747825-06:00","close_reason":"Implemented the three missing private helper methods that were called but not defined: persistSyncState(), persistStagedFile(file), and persistCommitState(hash). These methods persist git state to the database tables (git, git_branches, git_content). All 153 DO tests pass.","dependencies":[{"issue_id":"gitx-438y","depends_on_id":"gitx-nnfj","type":"parent-child","created_at":"2026-01-08T18:39:05.065128-06:00","created_by":"daemon"}]}
{"id":"gitx-4c5","title":"[RED] CLI: gitx add command","description":"Write failing tests for gitx add CLI command.\n\n## Tests\n- Test basic functionality\n- Test flags and options\n- Test error handling\n\nBlocks: GREEN implementation","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-06T13:08:58.328565-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T13:28:55.576192-06:00","closed_at":"2026-01-06T13:28:55.576192-06:00","close_reason":"Closed"}
{"id":"gitx-4d8b","title":"[RED] MCP: git_describe tool","description":"Write failing tests for git_describe MCP tool.\n\n## Required Functionality\n- Find nearest tag to commit\n- Show tag + commits since + SHA\n- Support annotated and lightweight tags\n- Handle commits without tags\n- Customize output format\n\n## Input Schema\n- revision: string (SHA/ref, optional, defaults to HEAD)\n- all: boolean (use all refs)\n- tags: boolean (use lightweight tags)\n- abbrev_length: number\n- always: boolean (show SHA if no tag)\n- long: boolean (always show long format)\n\nBlocks: GREEN implementation","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-06T13:09:32.678261-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T17:10:32.990562-06:00","closed_at":"2026-01-06T17:10:32.990562-06:00","close_reason":"Closed"}
{"id":"gitx-4sc","title":"[RED] Test update hook execution","description":"Write failing tests for update hook (per-ref):\n- Test hook called once per ref being updated\n- Test hook receives refname oldrev newrev as args\n- Test hook can reject individual ref updates\n- Test hook is called before ref update\n- Test hook environment variables\n\nAll tests should FAIL initially (Red phase).","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-07T12:39:39.992284-06:00","created_by":"nathanclevenger","updated_at":"2026-01-10T11:45:59.89851-06:00","closed_at":"2026-01-10T11:45:59.89851-06:00","close_reason":"Tests for update hook already exist in test/wire/receive-pack.test.ts (lines 924-983). All tests pass including: per-ref execution, receiving refname/oldrev/newrev as args, per-ref rejection, and environment variable handling."}
{"id":"gitx-54u","title":"Consolidate duplicate SHA-1 implementations","description":"SHA-1 duplicated 4+ times across pack module. Extract to shared sha1.ts utility.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T03:49:32.069885-06:00","updated_at":"2026-01-05T04:32:07.189828-06:00","closed_at":"2026-01-05T04:32:07.189828-06:00","close_reason":"Closed"}
{"id":"gitx-571","title":"[REFACTOR] Clean up commit storage","description":"Production-ready commit storage refactoring:\n- Add GPG signature support\n- Support extra headers (encoding, etc.)\n- Optimize parsing for large histories\n- Add commit validation\n- Tests must continue passing","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T12:35:22.020145-06:00","created_by":"nathanclevenger","updated_at":"2026-01-07T12:35:22.020145-06:00","dependencies":[{"issue_id":"gitx-571","depends_on_id":"gitx-omr","type":"blocks","created_at":"2026-01-07T12:35:35.276389-06:00","created_by":"nathanclevenger"}]}
{"id":"gitx-58m","title":"[REFACTOR] Clean up git-receive-pack","description":"Production-ready receive-pack refactoring:\n- Optimize packfile unpacking\n- Add quarantine support\n- Implement push options\n- Support all capabilities\n- Tests must continue passing","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T12:37:48.968355-06:00","created_by":"nathanclevenger","updated_at":"2026-01-07T12:37:48.968355-06:00","dependencies":[{"issue_id":"gitx-58m","depends_on_id":"gitx-6yq","type":"blocks","created_at":"2026-01-07T12:38:00.011755-06:00","created_by":"nathanclevenger"}]}
{"id":"gitx-5kq","title":"GREEN: Implement tree building","description":"Implement tree builder to pass tests.\n\n## Implementation\n- Sort entries by name\n- Group by directory\n- Recursive subtree creation\n- Return root tree sha","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:47:56.617612-06:00","updated_at":"2026-01-04T18:53:31.46733-06:00","closed_at":"2026-01-04T18:53:31.46733-06:00","close_reason":"Closed","dependencies":[{"issue_id":"gitx-5kq","depends_on_id":"gitx-nrp","type":"blocks","created_at":"2026-01-04T17:49:20.105306-06:00","created_by":"daemon"}]}
{"id":"gitx-5r3","title":"RED: MCP sandbox execution tests","description":"Write failing tests for sandboxed execution.\n\n## Tests\n- git_eval executes user code\n- Sandbox has git API access\n- Network blocked (globalOutbound: null)\n- Dangerous patterns rejected\n- Timeout enforced\n- Console.log captured\n\n## Files\n- src/mcp/sandbox.ts (stubs)\n- test/mcp/sandbox.test.ts (failing)","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:47:56.507038-06:00","updated_at":"2026-01-04T18:44:47.862626-06:00","closed_at":"2026-01-04T18:44:47.862626-06:00","close_reason":"Closed"}
{"id":"gitx-63y","title":"[RED] CLI: gitx clone command","description":"Write failing tests for gitx clone CLI command.\n\n## Tests\n- Test basic functionality\n- Test flags and options\n- Test error handling\n\nBlocks: GREEN implementation","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-06T13:09:09.785188-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T16:47:50.035882-06:00","closed_at":"2026-01-06T16:47:50.035882-06:00","close_reason":"Closed"}
{"id":"gitx-658","title":"[RED] CLI: gitx tag command","description":"Write failing tests for gitx tag CLI command.\n\n## Tests\n- Test basic functionality\n- Test flags and options\n- Test error handling\n\nBlocks: GREEN implementation","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-06T13:09:17.287649-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T21:31:34.371294-06:00","closed_at":"2026-01-06T21:31:34.371294-06:00","close_reason":"Closed"}
{"id":"gitx-66fm","title":"Implement external executor integration (Cloudflare Containers)","description":"Implement integration with external executors, specifically Cloudflare Containers, for running bash commands in isolated environments.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-08T18:38:47.943543-06:00","created_by":"nathanclevenger","updated_at":"2026-01-09T01:51:36.661453-06:00","closed_at":"2026-01-09T01:51:36.661453-06:00","close_reason":"Implemented CloudflareContainerExecutor with HTTP exec endpoint, WebSocket streaming, and session isolation support"}
{"id":"gitx-69g","title":"[RED] Test branch reference management","description":"Write failing tests for branch reference management:\n- Test createBranch creates refs/heads/{name} pointing to SHA\n- Test deleteBranch removes ref\n- Test listBranches returns all branches\n- Test getCurrentBranch returns HEAD symbolic ref\n- Test checkoutBranch updates HEAD\n- Test branch name validation (no spaces, no ..)\n- Test default branch detection\n\nAll tests should FAIL initially (Red phase).","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-07T12:36:16.028657-06:00","created_by":"nathanclevenger","updated_at":"2026-01-09T06:09:36.144429-06:00","closed_at":"2026-01-09T06:09:36.144429-06:00","close_reason":"RED tests complete: Created comprehensive test file with 54 tests total - 45 passing (testing implemented functionality) and 9 failing (testing stub methods marked for GREEN phase implementation)"}
{"id":"gitx-6an","title":"[RED] Test GitRepoDO extends DO base class","description":"Write failing tests for GitRepoDO extending DO base class from @dotdo/do:\n- Test GitRepoDO class exists and extends DO\n- Test it has required Durable Object lifecycle methods (fetch, alarm)\n- Test it inherits state and env from base DO\n- Test Hono router integration\n- Test storage accessor returns correct type\n\nAll tests should FAIL initially (Red phase).","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-07T12:33:28.874548-06:00","created_by":"nathanclevenger","updated_at":"2026-01-09T02:59:39.699463-06:00","closed_at":"2026-01-09T02:59:39.699463-06:00","close_reason":"Completed RED phase tests for GitRepoDO extends DO base class. Tests verify: 1) Class existence and export, 2) DO base class inheritance ($type, getTypeHierarchy, isInstanceOfType), 3) Lifecycle methods (initialize, fork, compact, fetch, alarm), 4) $ workflow context availability (send, try, do, on, every, branch, checkout, merge), 5) Storage access (db, things, rels, actions, events, collection, resolve), 6) Git-specific functionality and type guard. All tests fail as expected since GitRepoDO is not implemented yet."}
{"id":"gitx-6em","title":"[RED] Test post-receive hook execution","description":"Write failing tests for post-receive hook:\n- Test hook receives oldrev newrev refname on stdin\n- Test hook is called AFTER refs updated\n- Test hook output is passed to client\n- Test hook failure doesn't rollback refs\n- Test hook environment variables\n\nAll tests should FAIL initially (Red phase).","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-07T12:39:21.507588-06:00","created_by":"nathanclevenger","updated_at":"2026-01-10T11:46:00.120739-06:00","closed_at":"2026-01-10T11:46:00.120739-06:00","close_reason":"Tests for post-receive hook already exist in test/wire/receive-pack.test.ts (lines 985-1043). All tests pass including: execution after updates, advisory nature (doesn't rollback), only successful updates in stdin, and push options in environment."}
{"id":"gitx-6hy","title":"[REFACTOR] Add stricter tsconfig options","description":"## Context\nTypeScript review recommends additional strict options.\n\n## REFACTOR Phase\n\n### Add to tsconfig.json\n```json\n{\n  \"compilerOptions\": {\n    // ... existing options ...\n    \"noUncheckedIndexedAccess\": true,\n    \"exactOptionalPropertyTypes\": true,\n    \"noPropertyAccessFromIndexSignature\": true\n  }\n}\n```\n\n### Fix resulting errors\n- `noUncheckedIndexedAccess`: Add null checks for array/object access\n- `exactOptionalPropertyTypes`: Distinguish `undefined` from missing\n- `noPropertyAccessFromIndexSignature`: Use bracket notation for index signatures\n\n## Dependencies\nShould be done AFTER replacing `any` types (gitx-anl) to minimize fix iterations.\n\n## Acceptance Criteria\n- [ ] All three options enabled\n- [ ] All resulting TypeScript errors fixed\n- [ ] All tests pass\n- [ ] No new @ts-ignore directives","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-06T08:42:20.135868-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T20:52:01.21539-06:00","closed_at":"2026-01-06T20:52:01.21539-06:00","close_reason":"Closed","dependencies":[{"issue_id":"gitx-6hy","depends_on_id":"gitx-anl","type":"blocks","created_at":"2026-01-06T08:42:38.214756-06:00","created_by":"nathanclevenger"}]}
{"id":"gitx-6n5y","title":"[FEATURE] Transport: HTTP/HTTPS proxy support","description":"Implement HTTP/HTTPS proxy configuration for gitx wire protocol.\n\n## Requirements\n- Support http.proxy and https.proxy git config\n- Support HTTP_PROXY and HTTPS_PROXY environment variables\n- Handle proxy authentication (basic auth)\n- Support SOCKS proxy\n- Implement NO_PROXY exception list\n\n## Implementation Notes\n- Add proxy configuration parsing from git config and environment\n- Update HTTP transport to use proxy settings\n- Integrate with Node.js http/https agent proxy support\n- Handle proxy authentication headers\n- Test with various proxy configurations (authenticated, unauthenticated, SOCKS)\n- Consider using existing proxy agent libraries","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-06T13:09:34.992274-06:00","created_by":"nathanclevenger","updated_at":"2026-01-07T02:42:31.879046-06:00","closed_at":"2026-01-07T02:42:31.879046-06:00","close_reason":"Closed"}
{"id":"gitx-6op","title":"[RED] Tag operations: Write failing tests for createTag, deleteTag, listTags","description":"## Context\n`src/refs/tag.ts` has TODOs marked \"Implement in GREEN phase\".\nCurrent implementations throw 'Not implemented'.\n\n## RED Phase\nWrite comprehensive failing tests in `test/refs/tag.test.ts`:\n\n```typescript\ndescribe('TagManager', () =\u003e {\n  describe('createTag', () =\u003e {\n    it('should create lightweight tag', async () =\u003e {\n      await manager.createTag('v1.0.0', commitSha, { lightweight: true })\n      const ref = await refStore.getRef('refs/tags/v1.0.0')\n      expect(ref).toBe(commitSha)\n    })\n\n    it('should create annotated tag', async () =\u003e {\n      await manager.createTag('v1.0.0', commitSha, {\n        message: 'Release v1.0.0',\n        tagger: { name: 'Test', email: 'test@test.com', timestamp: Date.now(), timezoneOffset: 0 }\n      })\n      // Should create tag object and ref\n    })\n\n    it('should fail if tag already exists', async () =\u003e { ... })\n    it('should support GPG signing (stub)', async () =\u003e { ... })\n  })\n\n  describe('deleteTag', () =\u003e {\n    it('should delete existing tag', async () =\u003e { ... })\n    it('should fail if tag does not exist', async () =\u003e { ... })\n  })\n\n  describe('listTags', () =\u003e {\n    it('should list all tags', async () =\u003e { ... })\n    it('should filter tags by pattern', async () =\u003e { ... })\n    it('should sort tags by version', async () =\u003e { ... })\n  })\n})\n```\n\n## Acceptance Criteria\n- [ ] Tests written for all tag operations\n- [ ] Tests are failing\n- [ ] Both lightweight and annotated tags covered","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-06T08:40:45.738893-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T13:20:05.516074-06:00","closed_at":"2026-01-06T13:20:05.516074-06:00","close_reason":"RED phase complete - 102 failing tests written for TagManager (createTag, deleteTag, listTags). Tests cover lightweight tags, annotated tags, signed tags, validation, error cases, pattern filtering, sorting, and edge cases."}
{"id":"gitx-6p9","title":"GREEN: Implement delta encoding","description":"Implement delta to pass tests.\n\n## Implementation\n- Copy instruction: offset + size (variable encoding)\n- Insert instruction: size + raw data\n- Rolling hash for match finding\n- Optimal instruction selection","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:47:48.947486-06:00","updated_at":"2026-01-04T18:15:32.575345-06:00","closed_at":"2026-01-04T18:15:32.575345-06:00","close_reason":"Closed","dependencies":[{"issue_id":"gitx-6p9","depends_on_id":"gitx-9e1","type":"blocks","created_at":"2026-01-04T17:49:12.711796-06:00","created_by":"daemon"}]}
{"id":"gitx-6pa","title":"[REFACTOR] Clean up packfile format","description":"Production-ready packfile format refactoring:\n- Optimize delta window size\n- Support pack v2 features\n- Add streaming pack generation\n- Optimize memory usage\n- Tests must continue passing","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T12:38:05.033483-06:00","created_by":"nathanclevenger","updated_at":"2026-01-07T12:38:05.033483-06:00","dependencies":[{"issue_id":"gitx-6pa","depends_on_id":"gitx-6wz","type":"blocks","created_at":"2026-01-07T12:38:15.464112-06:00","created_by":"nathanclevenger"}]}
{"id":"gitx-6py","title":"RED: Tiered read path tests","description":"Write failing tests for tiered reads.\n\n## Tests\n- Read from hot tier (fast path)\n- Read from pack tier (R2 fetch)\n- Cache pack index locally\n- Promote frequently accessed to hot\n- Handle missing objects\n\n## Files\n- src/tiered/reader.ts (stubs)\n- test/tiered/reader.test.ts (failing)","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:48:07.918902-06:00","updated_at":"2026-01-04T18:43:16.831139-06:00","closed_at":"2026-01-04T18:43:16.831139-06:00","close_reason":"Closed"}
{"id":"gitx-6rz","title":"GREEN: Implement Parquet writer","description":"Implement Parquet to pass tests.\n\n## Implementation\n- R2 Data Catalog integration\n- Parquet encoding\n- Date partitioning\n- Append-only writes","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-04T17:48:15.220173-06:00","updated_at":"2026-01-05T08:50:56.589311-06:00","closed_at":"2026-01-05T08:50:56.589311-06:00","close_reason":"Tests passing - 71 tests in parquet-writer.test.ts","dependencies":[{"issue_id":"gitx-6rz","depends_on_id":"gitx-3bg","type":"blocks","created_at":"2026-01-04T17:49:24.878307-06:00","created_by":"daemon"}]}
{"id":"gitx-6sc","title":"[INFRA] Add ESLint and Prettier configuration","description":"## Context\nCode style is consistent but no automated tooling to enforce it.\n\n## Implementation\n\n### 1. Install dependencies\n```bash\nnpm install -D eslint @typescript-eslint/parser @typescript-eslint/eslint-plugin\nnpm install -D prettier eslint-config-prettier\nnpm install -D husky lint-staged\n```\n\n### 2. Create configs\n\n**.eslintrc.json**\n```json\n{\n  \"parser\": \"@typescript-eslint/parser\",\n  \"plugins\": [\"@typescript-eslint\"],\n  \"extends\": [\n    \"eslint:recommended\",\n    \"plugin:@typescript-eslint/recommended\",\n    \"prettier\"\n  ],\n  \"rules\": {\n    \"@typescript-eslint/no-unused-vars\": [\"error\", { \"argsIgnorePattern\": \"^_\" }],\n    \"@typescript-eslint/explicit-function-return-type\": \"off\"\n  }\n}\n```\n\n**.prettierrc**\n```json\n{\n  \"semi\": false,\n  \"singleQuote\": true,\n  \"trailingComma\": \"es5\",\n  \"printWidth\": 100\n}\n```\n\n### 3. Add scripts to package.json\n```json\n{\n  \"scripts\": {\n    \"lint\": \"eslint src test\",\n    \"lint:fix\": \"eslint src test --fix\",\n    \"format\": \"prettier --write src test\",\n    \"format:check\": \"prettier --check src test\"\n  }\n}\n```\n\n### 4. Setup pre-commit hook\n```bash\nnpx husky init\necho \"npx lint-staged\" \u003e .husky/pre-commit\n```\n\n## Acceptance Criteria\n- [ ] ESLint configured and passing\n- [ ] Prettier configured\n- [ ] Pre-commit hook working\n- [ ] All existing code passes linting (may need fixes)","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-06T08:42:26.773189-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T21:07:19.608249-06:00","closed_at":"2026-01-06T21:07:19.608249-06:00","close_reason":"Closed"}
{"id":"gitx-6sdk","title":"Integrate with git, git_branches, git_content tables","description":"Wire up the GitModule to work with the existing git, git_branches, and git_content database tables for persistent storage.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-08T18:38:47.001498-06:00","updated_at":"2026-01-09T01:01:01.66901-06:00","closed_at":"2026-01-09T01:01:01.66901-06:00","close_reason":"Completed: GitModule now fully integrates with git, git_branches, and git_content database tables. Fixed bug where sync state wasn't persisted for empty repositories.","dependencies":[{"issue_id":"gitx-6sdk","depends_on_id":"gitx-nnfj","type":"parent-child","created_at":"2026-01-08T18:39:04.935539-06:00","created_by":"daemon"}]}
{"id":"gitx-6tj","title":"Add input validation for MCP tools","description":"MCP tools have command injection risk - paths not sanitized, values directly interpolated. Add proper input validation.","status":"closed","priority":0,"issue_type":"bug","created_at":"2026-01-05T03:49:21.101477-06:00","updated_at":"2026-01-05T04:09:29.052103-06:00","closed_at":"2026-01-05T04:09:29.052103-06:00","close_reason":"Closed"}
{"id":"gitx-6wr","title":"GREEN: Implement merge base finding","description":"Implement merge-base to pass tests.\n\n## Implementation\n- Bidirectional BFS\n- Paint commits by source\n- Detect meeting point\n- Return best (most recent) base","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:48:05.221414-06:00","updated_at":"2026-01-05T08:50:04.262694-06:00","closed_at":"2026-01-05T08:50:04.262694-06:00","close_reason":"Tests passing - all related test files pass","dependencies":[{"issue_id":"gitx-6wr","depends_on_id":"gitx-dyn","type":"blocks","created_at":"2026-01-04T17:49:21.052668-06:00","created_by":"daemon"}]}
{"id":"gitx-6wz","title":"[GREEN] Implement packfile format","description":"Implement minimal code to pass packfile format tests:\n- Parse and write pack headers\n- Encode/decode variable-length integers\n- Handle delta compression formats\n- Generate pack index files\n\nFocus on making tests pass.","notes":"GREEN complete - packfile format implemented. All 389 tests passing across 7 test files (format, index, idx, delta, generation, pack-index, full-generation).","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-07T12:38:03.228742-06:00","created_by":"nathanclevenger","updated_at":"2026-01-10T11:46:29.291713-06:00","closed_at":"2026-01-10T11:46:29.291717-06:00","dependencies":[{"issue_id":"gitx-6wz","depends_on_id":"gitx-r3i","type":"blocks","created_at":"2026-01-07T12:38:15.404865-06:00","created_by":"nathanclevenger"}]}
{"id":"gitx-6yq","title":"[GREEN] Implement git-receive-pack protocol","description":"Implement minimal code to pass receive-pack tests:\n- Parse ref update commands\n- Receive and unpack packfiles\n- Validate received objects\n- Update refs atomically\n- Send report-status\n\nFocus on making tests pass.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-07T12:37:46.627056-06:00","created_by":"nathanclevenger","updated_at":"2026-01-07T12:37:46.627056-06:00","dependencies":[{"issue_id":"gitx-6yq","depends_on_id":"gitx-de6","type":"blocks","created_at":"2026-01-07T12:37:59.946425-06:00","created_by":"nathanclevenger"}]}
{"id":"gitx-72y","title":"RED: Object store schema and initialization tests","description":"Write failing tests for SQLite schema.\n\n## Tests\n- Schema creates objects table correctly\n- Schema creates object_index table\n- Schema creates hot_objects table\n- Schema creates wal table\n- Indexes are created for efficient queries\n- blockConcurrencyWhile is called during init\n\n## Files\n- src/durable-object/schema.ts (stubs)\n- test/durable-object/schema.test.ts (failing)","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:47:43.217684-06:00","updated_at":"2026-01-04T18:05:58.181923-06:00","closed_at":"2026-01-04T18:05:58.181923-06:00","close_reason":"RED tests written - all tests failing as expected"}
{"id":"gitx-7ai","title":"RED: gitx blame command","description":"Write failing tests for blame command.\n\n## Tests to Write\n- Shows line-by-line blame annotations\n- Shows commit SHA, author, date for each line\n- Supports line range with -L flag\n- Follows renames with -C flag\n- Syntax highlights source code","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T05:46:47.772885-06:00","updated_at":"2026-01-05T07:06:20.385733-06:00","closed_at":"2026-01-05T07:06:20.385733-06:00","close_reason":"GREEN phase complete - all tests pass","dependencies":[{"issue_id":"gitx-7ai","depends_on_id":"gitx-7vz","type":"blocks","created_at":"2026-01-05T06:12:43.670356-06:00","created_by":"daemon"},{"issue_id":"gitx-7ai","depends_on_id":"gitx-ani","type":"blocks","created_at":"2026-01-05T06:12:43.928187-06:00","created_by":"daemon"}]}
{"id":"gitx-7ebb","title":"[FEATURE] Transport: Partial clone with object filtering","description":"Implement partial clone with object filtering (--filter flag support).\n\n## Requirements\n- Support --filter flag for clone operations\n- Implement blob size filtering (blob:limit=\u003cn\u003e)\n- Implement object type filtering (blob:none, tree:none)\n- Support sparse filtering (sparse:oid=\u003cblob-ish\u003e)\n- Handle lazy object fetching for missing objects\n- Update protocol to negotiate filter capabilities\n\n## Implementation Notes\n- Add filter parameter to clone and fetch operations\n- Implement filter-spec parsing and validation\n- Add promisor remote tracking\n- Implement on-demand object fetching for filtered objects\n- Update pack negotiation to send filter requirements\n- Test with large repositories to verify filtering works correctly","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-06T13:09:31.461484-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T20:52:01.092055-06:00","closed_at":"2026-01-06T20:52:01.092055-06:00","close_reason":"Closed"}
{"id":"gitx-7hry","title":"[FEATURE] Core: Worktree support","description":"Implement worktree support for multiple working directories.\n\n## Requirements\n- Create and manage multiple working trees\n- Store worktree metadata in .git/worktrees/\n- Implement 'gitx worktree' command (add/list/remove/prune)\n- Handle per-worktree refs and HEAD\n- Support locked and movable worktrees\n\n## Affected Files\n- src/core/worktree.ts (new file for worktree operations)\n- src/core/refs.ts (handle per-worktree refs)\n- src/cli/commands/worktree.ts (new command implementation)\n- src/cli/index.ts (register worktree command)","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-06T13:09:25.975161-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T17:10:32.915208-06:00","closed_at":"2026-01-06T17:10:32.915208-06:00","close_reason":"Closed"}
{"id":"gitx-7ip","title":"[GREEN] Implement tag reference management","description":"Implement minimal code to pass tag management tests:\n- Implement createTag with refs/tags/ prefix\n- Support both annotated and lightweight tags\n- Implement listTags querying refs/tags/*\n- Implement deleteTag\n- Implement tag peeling\n\nFocus on making tests pass.","notes":"All tag tests pass - implementation is complete:\n- test/refs/tag.test.ts: 102 tests passing\n- test/ops/tag.test.ts: 105 tests passing\n\nThe tag reference management implementation includes:\n- createTag with refs/tags/ prefix\n- Support for annotated and lightweight tags\n- listTags querying refs/tags/*\n- deleteTag\n- Tag peeling","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-07T12:36:38.500379-06:00","created_by":"nathanclevenger","updated_at":"2026-01-09T13:56:56.803872-06:00","closed_at":"2026-01-09T13:56:56.803872-06:00","close_reason":"GREEN phase complete - all 207 tag tests passing","dependencies":[{"issue_id":"gitx-7ip","depends_on_id":"gitx-pe1","type":"blocks","created_at":"2026-01-07T12:36:55.806935-06:00","created_by":"nathanclevenger"}]}
{"id":"gitx-7kiv","title":"Write tests for BashModule integration with DO","description":"Write comprehensive tests for BashModule integration with dotdo's DO class, including unit tests and integration tests with the WorkflowContext.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-08T18:38:48.384898-06:00","created_by":"nathanclevenger","updated_at":"2026-01-09T02:34:38.097749-06:00","closed_at":"2026-01-09T02:34:38.097749-06:00","close_reason":"Closed"}
{"id":"gitx-7m5","title":"GREEN: Implement object CRUD operations","description":"Implement CRUD to pass tests.\n\n## Implementation\n- Use zlib compression (pako or built-in)\n- Calculate sha from 'type size\\0data' format\n- Store in hot_objects initially\n- Update object_index on write","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:47:46.848814-06:00","updated_at":"2026-01-04T18:53:28.539572-06:00","closed_at":"2026-01-04T18:53:28.539572-06:00","close_reason":"Closed","dependencies":[{"issue_id":"gitx-7m5","depends_on_id":"gitx-91l","type":"blocks","created_at":"2026-01-04T17:49:10.830278-06:00","created_by":"daemon"}]}
{"id":"gitx-7mzc","title":"[RED] MCP: git_show tool","description":"Write failing tests for git_show MCP tool.\n\n## Required Functionality\n- Display commit information (author, date, message, diff)\n- Show file content at specific revision\n- Support SHA, branch, tag references\n- Include diff output for commits\n- Handle paths to show specific files\n\n## Input Schema\n- revision: string (SHA/ref, required)\n- path: string (optional file path)\n- format: enum (commit, raw, diff)\n- context_lines: number (for diffs)\n\nBlocks: GREEN implementation","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-06T13:09:21.614505-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T13:19:16.947141-06:00","closed_at":"2026-01-06T13:19:16.947141-06:00","close_reason":"RED phase complete - failing tests for git_show MCP tool. Created comprehensive test suite with 53 tests covering: tool definition, commit info display, diff output, file content at revision, reference resolution (SHA/branch/tag/HEAD), error handling, edge cases (merge commits, GPG signatures, timezones), and output formatting. All tests properly fail with 'Tool not found' error."}
{"id":"gitx-7o3e","title":"RED: Core zero CF-deps verification tests","description":"Write tests verifying @dotdo/gitx core has zero Cloudflare dependencies.\n\nTests should:\n- Scan core/ imports for cloudflare, wrangler, DO types\n- Verify core/package.json has no @cloudflare deps\n- Ensure all CF-specific code stays in gitx.do layer","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T12:46:52.702909-06:00","created_by":"nathanclevenger","updated_at":"2026-01-10T13:27:29.112977-06:00","closed_at":"2026-01-10T13:27:29.112977-06:00","close_reason":"Closed via update","labels":["architecture","red","tdd"]}
{"id":"gitx-7qe","title":"GREEN: Implement git-upload-pack","description":"Implement upload-pack to pass tests.\n\n## Implementation\n- Advertise refs endpoint\n- Negotiate wants/haves\n- Generate pack for delta\n- Stream via side-band-64k\n- Progress reporting","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:47:55.69094-06:00","updated_at":"2026-01-05T08:49:31.089375-06:00","closed_at":"2026-01-05T08:49:31.089375-06:00","close_reason":"Tests passing - all related test files pass","dependencies":[{"issue_id":"gitx-7qe","depends_on_id":"gitx-b08","type":"blocks","created_at":"2026-01-04T17:49:15.746743-06:00","created_by":"daemon"}]}
{"id":"gitx-7rpq","title":"REFACTOR: TypeScript strict mode","description":"Enable stricter TypeScript:\n- noUnusedLocals, noUnusedParameters\n- noImplicitReturns\n- Replace any types\n- Fix all compiler errors","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-10T12:47:33.750494-06:00","created_by":"nathanclevenger","updated_at":"2026-01-10T12:47:33.750494-06:00","labels":["refactor","tdd","typescript"]}
{"id":"gitx-7vd","title":"RED: MCP 'do' tool with code execution","description":"TDD Red phase: Write failing tests for MCP 'do' tool that executes code. Tests should verify: 1) doTool(codeLoader, code) interface 2) Integration with sandbox evaluator 3) Result formatting for MCP response 4) Error handling and isError flag 5) Duration tracking","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T11:02:32.417437-06:00","updated_at":"2026-01-05T12:06:09.065382-06:00","closed_at":"2026-01-05T12:06:09.065382-06:00","close_reason":"MCP do tool implemented - all 37 tests passing","dependencies":[{"issue_id":"gitx-7vd","depends_on_id":"gitx-sju","type":"blocks","created_at":"2026-01-05T11:03:49.268679-06:00","created_by":"nathanclevenger"},{"issue_id":"gitx-7vd","depends_on_id":"gitx-in9","type":"blocks","created_at":"2026-01-05T11:03:54.596855-06:00","created_by":"nathanclevenger"}]}
{"id":"gitx-7vz","title":"RED: CLI entry point and argument parsing","description":"Write failing tests for CLI entry point.\n\n## Tests to Write\n- CLI shows help with --help flag\n- CLI shows version with --version flag\n- CLI parses subcommands (status, diff, log, etc.)\n- CLI handles unknown commands gracefully\n- CLI reads from current working directory\n\n## Dependencies\n- Add commander or cac for argument parsing\n- Add bin field to package.json","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T05:46:43.757493-06:00","updated_at":"2026-01-05T06:25:56.591379-06:00","closed_at":"2026-01-05T06:25:56.591379-06:00","close_reason":"GREEN phase complete - all tests pass","dependencies":[{"issue_id":"gitx-7vz","depends_on_id":"gitx-etc","type":"blocks","created_at":"2026-01-05T06:12:41.14298-06:00","created_by":"daemon"}]}
{"id":"gitx-7zv","title":"FIX: Object store schema alignment","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T09:42:44.234805-06:00","updated_at":"2026-01-05T09:52:23.416655-06:00","closed_at":"2026-01-05T09:52:23.416655-06:00","close_reason":"Closed"}
{"id":"gitx-81z","title":"RED: CDC pipeline to Parquet tests","description":"Write failing tests for CDC pipeline.\n\n## Tests\n- Emit events on object write\n- Emit events on ref update\n- Batch events efficiently\n- Handle pipeline failures gracefully\n\n## Files\n- src/tiered/cdc.ts (stubs)\n- test/tiered/cdc.test.ts (failing)","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:48:12.025234-06:00","updated_at":"2026-01-04T18:45:35.821106-06:00","closed_at":"2026-01-04T18:45:35.821106-06:00","close_reason":"Closed"}
{"id":"gitx-826","title":"GREEN: Implement blame algorithm","description":"Implement blame to pass tests.\n\n## Implementation\n- Walk history backwards\n- Compare file at each commit\n- Attribute unchanged lines\n- Handle insertions/deletions","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:48:10.090305-06:00","updated_at":"2026-01-05T08:50:04.263862-06:00","closed_at":"2026-01-05T08:50:04.263862-06:00","close_reason":"Tests passing - all related test files pass","dependencies":[{"issue_id":"gitx-826","depends_on_id":"gitx-dsj","type":"blocks","created_at":"2026-01-04T17:49:21.520843-06:00","created_by":"daemon"}]}
{"id":"gitx-82c","title":"GREEN: Implement SHA hashing utilities","description":"Implement hashing to pass tests.\n\n## Implementation\n- Use Web Crypto API (works in Workers)\n- Format: '{type} {size}\\0{content}'\n- Return lowercase hex string","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:47:45.886198-06:00","updated_at":"2026-01-04T18:09:14.661975-06:00","closed_at":"2026-01-04T18:09:14.661975-06:00","close_reason":"SHA hashing implementation complete - all 25 tests pass","dependencies":[{"issue_id":"gitx-82c","depends_on_id":"gitx-puy","type":"blocks","created_at":"2026-01-04T17:49:10.152578-06:00","created_by":"daemon"}]}
{"id":"gitx-83pc","title":"[RED] MCP: git_config tool","description":"Write failing tests for git_config MCP tool.\n\n## Required Functionality\n- Get config values (local, global, system)\n- List config entries with filters\n- Support config scopes\n- Handle multi-valued configs\n- Validate config keys\n\n## Input Schema\n- key: string (config key, optional for list)\n- scope: enum (local, global, system, all)\n- list: boolean (list all configs)\n- pattern: string (filter pattern for list)\n- type: enum (bool, int, path, etc)\n\nBlocks: GREEN implementation","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-06T13:09:42.093551-06:00","created_by":"nathanclevenger","updated_at":"2026-01-07T02:42:31.936797-06:00","closed_at":"2026-01-07T02:42:31.936797-06:00","close_reason":"Closed"}
{"id":"gitx-85b","title":"[RED] Test tag object storage","description":"Write failing tests for tag object storage:\n- Test putTagObject stores annotated tag correctly\n- Test getTagObject parses object, objectType, name, tagger, message\n- Test tag pointing to commit\n- Test tag pointing to other objects (tree, blob)\n- Test tagger info parsing\n\nAll tests should FAIL initially (Red phase).","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-07T12:35:39.245609-06:00","created_by":"nathanclevenger","updated_at":"2026-01-09T05:54:16.563074-06:00","closed_at":"2026-01-09T05:54:16.563074-06:00","close_reason":"RED tests written - 3 failing tests for optional tagger support, 58 passing tests for existing functionality"}
{"id":"gitx-8ac","title":"GREEN: Implement write-ahead log","description":"Implement WAL to pass tests.\n\n## Implementation\n- Insert WAL entry on every write\n- Mark as flushed after R2 write\n- Provide replay mechanism\n- Periodic compaction of old entries","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:47:50.308773-06:00","updated_at":"2026-01-04T18:15:32.579037-06:00","closed_at":"2026-01-04T18:15:32.579037-06:00","close_reason":"Closed","dependencies":[{"issue_id":"gitx-8ac","depends_on_id":"gitx-2p0","type":"blocks","created_at":"2026-01-04T17:49:11.27947-06:00","created_by":"daemon"}]}
{"id":"gitx-8bi","title":"RED: Tag operation tests","description":"Write failing tests for tags.\n\n## Tests\n- Create lightweight tag\n- Create annotated tag (tag object)\n- Delete tag\n- List tags\n- Resolve tag to commit\n\n## Files\n- src/refs/tags.ts (stubs)\n- test/refs/tags.test.ts (failing)","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:48:03.749391-06:00","updated_at":"2026-01-04T18:41:56.228982-06:00","closed_at":"2026-01-04T18:41:56.228982-06:00","close_reason":"Closed"}
{"id":"gitx-8fd","title":"[RED] CLI: gitx pull command","description":"Write failing tests for gitx pull CLI command.\n\n## Tests\n- Test basic functionality\n- Test flags and options\n- Test error handling\n\nBlocks: GREEN implementation","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-06T13:09:06.844926-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T16:47:50.009604-06:00","closed_at":"2026-01-06T16:47:50.009604-06:00","close_reason":"Closed"}
{"id":"gitx-8fg","title":"RED: git-receive-pack (push) tests","description":"Write failing tests for receive-pack.\n\n## Tests\n- /info/refs?service=git-receive-pack response\n- Ref update commands parsing\n- Pack receiving and unpacking\n- Ref update atomicity\n- Push rejection on conflicts\n- Report-status response\n\n## Files\n- src/wire/receive-pack.ts (stubs)\n- test/wire/receive-pack.test.ts (failing)","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:47:57.008654-06:00","updated_at":"2026-01-04T18:46:41.86303-06:00","closed_at":"2026-01-04T18:46:41.86303-06:00","close_reason":"Closed"}
{"id":"gitx-8mb9","title":"GREEN: Move object model to core","description":"Extract git object parsing to core/objects/:\n- Blob parsing and serialization\n- Tree entry parsing\n- Commit header parsing\n- Tag parsing\n- SHA computation\n\nEnsure pure functions with no storage dependencies.\nMake tests from gitx-r29h pass.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-10T12:47:32.216415-06:00","created_by":"nathanclevenger","updated_at":"2026-01-10T12:47:32.216415-06:00","labels":["green","objects","tdd"],"dependencies":[{"issue_id":"gitx-8mb9","depends_on_id":"gitx-r29h","type":"blocks","created_at":"2026-01-10T12:47:32.21766-06:00","created_by":"nathanclevenger"}]}
{"id":"gitx-8pip","title":"[FEATURE] Core: Histogram diff algorithm","description":"Implement histogram diff algorithm for better performance with binary-like changes.\n\n## Requirements\n- Implement histogram diff algorithm (extension of patience diff)\n- Add --histogram flag to diff/log commands\n- Better performance for files with many repeated sections\n- Handle binary-like content more efficiently\n\n## Affected Files\n- src/core/diff.ts (add histogram algorithm implementation)\n- src/cli/commands/diff.ts (add --histogram flag)\n- src/cli/commands/log.ts (add --histogram flag support)","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-06T13:09:22.763052-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T17:00:06.995076-06:00","closed_at":"2026-01-06T17:00:06.995076-06:00","close_reason":"Closed"}
{"id":"gitx-8uk","title":"[GREEN] Tag operations: Implement createTag, deleteTag, listTags","description":"## Context\nMake failing tag tests pass with minimal implementations.\n\n## GREEN Phase\nImplement in `src/refs/tag.ts`:\n\n### createTag\n```typescript\nasync createTag(name: string, target: string, options?: TagOptions): Promise\u003cvoid\u003e {\n  // 1. Resolve target to SHA\n  // 2. Check tag doesn't exist\n  // 3. If annotated: create tag object, write to object store\n  // 4. Write ref to refs/tags/{name}\n}\n```\n\n### deleteTag\n```typescript\nasync deleteTag(name: string): Promise\u003cvoid\u003e {\n  // 1. Check tag exists\n  // 2. Delete ref\n}\n```\n\n### listTags\n```typescript\nasync listTags(pattern?: string): Promise\u003cTagInfo[]\u003e {\n  // 1. List refs/tags/*\n  // 2. Filter by pattern if provided\n  // 3. Resolve each to get tag info\n}\n```\n\n## Acceptance Criteria\n- [ ] All tag tests pass\n- [ ] Both lightweight and annotated tags work\n- [ ] Minimal implementation","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-06T08:41:19.01093-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T13:34:24.575994-06:00","closed_at":"2026-01-06T13:34:24.575994-06:00","close_reason":"Closed","dependencies":[{"issue_id":"gitx-8uk","depends_on_id":"gitx-6op","type":"blocks","created_at":"2026-01-06T08:42:01.096134-06:00","created_by":"nathanclevenger"}]}
{"id":"gitx-91l","title":"RED: Object CRUD operation tests","description":"Write failing tests for object CRUD.\n\n## Tests\n- writeObject(type, data) returns sha\n- writeObject stores compressed data\n- writeObject is idempotent (same sha = no-op)\n- readObject(sha) returns decompressed object\n- readObject returns null for missing sha\n- hasObject(sha) returns boolean\n- deleteObject(sha) removes object\n- listObjects(type?) returns sha list\n\n## Files  \n- src/durable-object/object-store.ts (stubs)\n- test/durable-object/object-store.test.ts (failing)","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:47:45.579908-06:00","updated_at":"2026-01-05T08:46:32.360963-06:00","closed_at":"2026-01-05T08:46:32.360963-06:00","close_reason":"Tests pass - 48 tests in object-store.test.ts covering all CRUD operations"}
{"id":"gitx-91s","title":"REFACTOR: Object store batching and caching","description":"Optimize object store.\n\n## Tasks\n- Batch writes in transactions\n- Add LRU eviction from hot tier\n- Optimize queries with proper indexes\n- Add metrics/logging","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T17:47:48.045089-06:00","updated_at":"2026-01-05T09:16:44.495614-06:00","closed_at":"2026-01-05T09:16:44.495614-06:00","close_reason":"Performance optimizations implemented: Rabin rolling hash for delta encoding, LRU cache for object store, streaming SHA-1","dependencies":[{"issue_id":"gitx-91s","depends_on_id":"gitx-7m5","type":"blocks","created_at":"2026-01-04T17:49:11.056947-06:00","created_by":"daemon"}]}
{"id":"gitx-91z","title":"[GREEN] Implement post-receive hook execution","description":"Implement minimal code to pass post-receive hook tests:\n- Execute hook after ref updates\n- Pass ref updates on stdin\n- Stream hook output to client\n- Handle hook failures gracefully\n\nFocus on making tests pass.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-07T12:39:22.872918-06:00","created_by":"nathanclevenger","updated_at":"2026-01-10T11:46:17.900548-06:00","closed_at":"2026-01-10T11:46:17.900548-06:00","close_reason":"Post-receive hook implementation exists in src/wire/receive-pack.ts (lines 1732-1757). The executePostReceiveHook function handles: execution after ref updates, stdin ref updates, advisory failure (doesn't rollback), and push options in environment. Related test passes.","dependencies":[{"issue_id":"gitx-91z","depends_on_id":"gitx-6em","type":"blocks","created_at":"2026-01-07T12:39:36.870799-06:00","created_by":"nathanclevenger"}]}
{"id":"gitx-9763","title":"[FEATURE] Core: Submodule support","description":"Implement submodule support for nested repository management.\n\n## Requirements\n- Parse and manage .gitmodules file\n- Implement 'gitx submodule' command (add/init/update/status)\n- Handle submodule refs in .git/modules/\n- Support recursive submodule operations\n- Track submodule commits in parent repo\n\n## Affected Files\n- src/core/submodule.ts (new file for submodule operations)\n- src/core/config.ts (handle .gitmodules parsing)\n- src/cli/commands/submodule.ts (new command implementation)\n- src/cli/index.ts (register submodule command)","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-06T13:09:29.049574-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T20:28:45.921484-06:00","closed_at":"2026-01-06T20:28:45.921484-06:00","close_reason":"Closed"}
{"id":"gitx-98g","title":"RED: Commit creation tests","description":"Write failing tests for commit creation.\n\n## Tests\n- Create commit with message\n- Parent points to HEAD\n- Tree built from index\n- Author/committer set correctly\n- Timestamp in correct format\n- HEAD updated to new commit\n- Empty commit rejected (optional)\n\n## Files\n- src/operations/commit.ts (stubs)\n- test/operations/commit.test.ts (failing)","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:47:57.562627-06:00","updated_at":"2026-01-04T18:30:53.031886-06:00","closed_at":"2026-01-04T18:30:53.031886-06:00","close_reason":"Closed"}
{"id":"gitx-9b6","title":"RED: Sandbox code template generator","description":"TDD Red phase: Write failing tests for sandbox code template generation. Tests should verify: 1) generateSandboxCode(userCode) wraps code safely 2) Exposes controlled git/store API 3) Console.log interception 4) Error handling and result formatting 5) validateUserCode() blocks dangerous patterns","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T11:02:25.399767-06:00","updated_at":"2026-01-05T11:12:44.54429-06:00","closed_at":"2026-01-05T11:12:44.54429-06:00","close_reason":"RED phase complete - failing tests created"}
{"id":"gitx-9e1","title":"RED: Delta encoding/decoding tests","description":"Write failing tests for delta encoding.\n\n## Tests\n- Encode simple copy instruction\n- Encode insert instruction\n- Decode copy instruction\n- Decode insert instruction  \n- Apply delta to base object\n- Generate delta between similar files\n- Delta size \u003c original for similar content\n- Handle edge cases (empty, identical, no match)\n\n## Files\n- src/pack/delta.ts (stubs)\n- test/pack/delta.test.ts (failing)","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:47:47.751366-06:00","updated_at":"2026-01-04T18:05:58.184981-06:00","closed_at":"2026-01-04T18:05:58.184981-06:00","close_reason":"RED tests written - all tests failing as expected"}
{"id":"gitx-9jsa","title":"[FEATURE] Core: External diff tool integration","description":"Implement external diff tool integration to launch external tools.\n\n## Requirements\n- Support diff.external and diff.tool configuration\n- Implement 'gitx difftool' command\n- Launch configured external diff viewers\n- Support common tools (vimdiff, meld, kdiff3, etc.)\n- Handle temporary file cleanup\n\n## Affected Files\n- src/core/external-diff.ts (new file for external tool integration)\n- src/core/config.ts (handle diff tool configuration)\n- src/cli/commands/difftool.ts (new command implementation)\n- src/cli/index.ts (register difftool command)","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-06T13:09:31.901582-06:00","created_by":"nathanclevenger","updated_at":"2026-01-07T02:42:31.819982-06:00","closed_at":"2026-01-07T02:42:31.819982-06:00","close_reason":"Closed"}
{"id":"gitx-9ml","title":"GREEN: Implement capability negotiation","description":"Implement capabilities to pass tests.\n\n## Capabilities to Support\n- multi_ack_detailed\n- side-band-64k\n- thin-pack\n- ofs-delta\n- shallow\n- no-progress\n- include-tag\n- filter","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:47:52.955203-06:00","updated_at":"2026-01-04T18:52:59.893941-06:00","closed_at":"2026-01-04T18:52:59.893941-06:00","close_reason":"Closed","dependencies":[{"issue_id":"gitx-9ml","depends_on_id":"gitx-qjp","type":"blocks","created_at":"2026-01-04T17:49:15.51265-06:00","created_by":"daemon"}]}
{"id":"gitx-9pe","title":"RED: Pack index (.idx) tests","description":"Write failing tests for pack index.\n\n## Tests\n- Generate .idx from .pack\n- Lookup sha in index returns offset\n- Binary search works correctly\n- Fanout table correct\n- CRC32 checksums present\n- Version 2 format compliance\n\n## Files\n- src/pack/index.ts (stubs)  \n- test/pack/index.test.ts (failing)","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:47:51.32423-06:00","updated_at":"2026-01-04T18:46:25.986835-06:00","closed_at":"2026-01-04T18:46:25.986835-06:00","close_reason":"Closed"}
{"id":"gitx-9q1","title":"GREEN: Implement MCP git tools","description":"Implement MCP tools to pass tests.\n\n## Tools\n- git_log: {ref, limit, path?} -\u003e commits\n- git_diff: {from, to, path?} -\u003e diff\n- git_show: {object} -\u003e content\n- git_commit: {message, author?} -\u003e sha\n- git_ls_tree: {treeish, path?, recursive?} -\u003e entries\n- git_status: {} -\u003e working tree state\n- git_branches: {} -\u003e branch list","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:47:52.826009-06:00","updated_at":"2026-01-05T08:48:07.209618-06:00","closed_at":"2026-01-05T08:48:07.209618-06:00","close_reason":"Tests passing (82, 36, 95, 49 tests respectively)","dependencies":[{"issue_id":"gitx-9q1","depends_on_id":"gitx-cug","type":"blocks","created_at":"2026-01-04T17:49:17.671993-06:00","created_by":"daemon"}]}
{"id":"gitx-9wk","title":"GREEN: Add prepare script to package.json","description":"Add prepare: npm run build script to ensure dist/ is fresh before publish","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T13:38:51.192733-06:00","updated_at":"2026-01-05T13:43:19.545959-06:00","closed_at":"2026-01-05T13:43:19.545959-06:00","close_reason":"Closed"}
{"id":"gitx-9wz","title":"[GREEN] Implement GitRepoDO extends DO","description":"Implement minimal code to pass all GitRepoDO DO extension tests:\n- Create GitRepoDO class extending DO from @dotdo/do\n- Implement fetch handler with Hono router\n- Wire up state and env properly\n- Add storage accessor returning DurableObjectStorage\n\nFocus on making tests pass with simplest implementation.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-07T12:33:39.662454-06:00","created_by":"nathanclevenger","updated_at":"2026-01-09T03:45:00.335111-06:00","closed_at":"2026-01-09T03:45:00.335111-06:00","close_reason":"Implemented GitRepoDO extending DO base class with all lifecycle methods (initialize, fork, compact), $ workflow context, storage accessors, and isGitRepoDO type guard. All 55 RED tests now pass.","dependencies":[{"issue_id":"gitx-9wz","depends_on_id":"gitx-6an","type":"blocks","created_at":"2026-01-07T12:34:09.174698-06:00","created_by":"nathanclevenger"}]}
{"id":"gitx-9y0","title":"FIX: Wire protocol path traversal validation","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-05T09:42:38.00175-06:00","updated_at":"2026-01-05T10:02:09.665855-06:00","closed_at":"2026-01-05T10:02:09.665855-06:00","close_reason":"Path security validation added: path-security.ts module created, validateRefName enhanced with traversal detection"}
{"id":"gitx-a1t","title":"[RED] CLI: gitx init command","description":"Write failing tests for gitx init CLI command.\n\n## Tests\n- Test basic functionality\n- Test flags and options\n- Test error handling\n\nBlocks: GREEN implementation","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-06T13:09:11.072316-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T16:51:47.617771-06:00","closed_at":"2026-01-06T16:51:47.617771-06:00","close_reason":"Closed"}
{"id":"gitx-a33j","title":"[FEATURE] Transport: Credential helper support","description":"Implement credential helper system to store/retrieve authentication credentials.\n\n## Requirements\n- Support git credential helper protocol\n- Integration with system credential stores (macOS Keychain, Windows Credential Manager, Linux Secret Service)\n- Support for credential.helper config\n- Implement credential fill, approve, and reject operations\n- Secure storage and retrieval of credentials\n\n## Implementation Notes\n- Add credential helper invocation in transport layer\n- Parse git config for credential.helper settings\n- Implement credential protocol stdin/stdout communication\n- Store credentials for HTTP(S) and SSH transports\n- Consider using existing Node.js credential manager libraries","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-06T13:09:27.224919-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T17:10:32.940387-06:00","closed_at":"2026-01-06T17:10:32.940387-06:00","close_reason":"Closed"}
{"id":"gitx-a4a","title":"[RED] CLI: gitx merge command","description":"Write failing tests for gitx merge CLI command.\n\n## Tests\n- Test basic functionality\n- Test flags and options\n- Test error handling\n\nBlocks: GREEN implementation","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-06T13:09:01.354062-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T13:30:05.933693-06:00","closed_at":"2026-01-06T13:30:05.933693-06:00","close_reason":"Closed"}
{"id":"gitx-a92","title":"[REFACTOR] Clean up pkt-line encoding","description":"Production-ready pkt-line refactoring:\n- Optimize encoding/decoding\n- Add buffer management\n- Support side-band channels\n- Tests must continue passing","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T12:38:43.810263-06:00","created_by":"nathanclevenger","updated_at":"2026-01-07T12:38:43.810263-06:00","dependencies":[{"issue_id":"gitx-a92","depends_on_id":"gitx-b2l","type":"blocks","created_at":"2026-01-07T12:38:54.067484-06:00","created_by":"nathanclevenger"}]}
{"id":"gitx-aaq0","title":"GREEN: Update gitx.do imports","description":"Update root gitx.do to import from core:\n\n```typescript\n// index.ts\nexport * from './core/index.js'\nexport { GitDO } from './do/index.js'\nexport { TieredGitStorage } from './storage/index.js'\n```\n\nUpdate all service-layer files to import types from core.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-10T12:47:32.817064-06:00","created_by":"nathanclevenger","updated_at":"2026-01-10T12:47:32.817064-06:00","labels":["green","imports","tdd"],"dependencies":[{"issue_id":"gitx-aaq0","depends_on_id":"gitx-7o3e","type":"blocks","created_at":"2026-01-10T12:47:32.818505-06:00","created_by":"nathanclevenger"}]}
{"id":"gitx-aaw","title":"GREEN: Implement tiered read path","description":"Implement tiered read to pass tests.\n\n## Implementation\n- Check hot tier first\n- Lookup in location index\n- Fetch from appropriate tier\n- Optional hot promotion\n- Cache pack indexes","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:48:09.501359-06:00","updated_at":"2026-01-04T18:55:10.461336-06:00","closed_at":"2026-01-04T18:55:10.461339-06:00","dependencies":[{"issue_id":"gitx-aaw","depends_on_id":"gitx-6py","type":"blocks","created_at":"2026-01-04T17:49:24.435647-06:00","created_by":"daemon"}]}
{"id":"gitx-ab7","title":"GREEN: Implement ObjectStore proxy","description":"TDD Green phase: Implement ObjectStoreProxy WorkerEntrypoint. Implement: 1) ObjectStoreProxy class extending WorkerEntrypoint 2) getObject, putObject, listObjects methods 3) Permission checking 4) DO stub routing","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T11:03:04.391196-06:00","updated_at":"2026-01-05T11:43:26.946826-06:00","closed_at":"2026-01-05T11:43:26.946826-06:00","close_reason":"GREEN phase implemented - all tests passing"}
{"id":"gitx-ae8","title":"[RED] CLI: gitx fetch command","description":"Write failing tests for gitx fetch CLI command.\n\n## Tests\n- Test basic functionality\n- Test flags and options\n- Test error handling\n\nBlocks: GREEN implementation","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-06T13:09:04.398108-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T14:13:58.025637-06:00","closed_at":"2026-01-06T14:13:58.025637-06:00","close_reason":"Closed"}
{"id":"gitx-aik","title":"REFACTOR: Delta encoding performance","description":"Optimize delta encoding.\n\n## Tasks\n- Efficient rolling hash (Rabin fingerprint)\n- Index size optimization\n- Memory-efficient for large files\n- Benchmark against git delta","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T17:47:50.068762-06:00","updated_at":"2026-01-05T09:16:44.494799-06:00","closed_at":"2026-01-05T09:16:44.494799-06:00","close_reason":"Performance optimizations implemented: Rabin rolling hash for delta encoding, LRU cache for object store, streaming SHA-1","dependencies":[{"issue_id":"gitx-aik","depends_on_id":"gitx-6p9","type":"blocks","created_at":"2026-01-04T17:49:12.936901-06:00","created_by":"daemon"}]}
{"id":"gitx-ani","title":"RED: Local filesystem git repository adapter","description":"Write failing tests for reading local .git directories.\n\n## Tests to Write\n- Reads objects from .git/objects\n- Reads refs from .git/refs\n- Reads HEAD\n- Reads index/staging area\n- Reads config\n- Handles packed-refs\n- Handles pack files in .git/objects/pack\n\n## Notes\nThis adapter bridges gitx.do's object store interface to local filesystem git repos.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T05:46:55.628718-06:00","updated_at":"2026-01-05T06:25:56.593165-06:00","closed_at":"2026-01-05T06:25:56.593165-06:00","close_reason":"GREEN phase complete - all tests pass","dependencies":[{"issue_id":"gitx-ani","depends_on_id":"gitx-etc","type":"blocks","created_at":"2026-01-05T06:12:41.491665-06:00","created_by":"daemon"}]}
{"id":"gitx-anl","title":"[REFACTOR] Replace any types with proper interfaces","description":"## Context\n~10 uses of `any` type found in the codebase that should be properly typed.\n\n## REFACTOR Phase\n\n### Files to fix:\n\n1. **src/mcp/sandbox/object-store-proxy.ts:15,30**\n   ```typescript\n   // Before\n   constructor(private objectStore: any) {}\n   // After\n   constructor(private objectStore: ObjectStore) {}\n   ```\n\n2. **src/cli/fs-adapter.ts** (catch blocks)\n   ```typescript\n   // Before\n   } catch (error: any) {\n   // After\n   } catch (error: unknown) {\n     if (error instanceof Error) { ... }\n   ```\n\n3. **src/cli/index.ts:339,645**\n   ```typescript\n   // Before\n   SUBCOMMANDS.includes(parsed.command as any)\n   // After\n   const SUBCOMMANDS = ['status', 'diff', ...] as const\n   type Subcommand = typeof SUBCOMMANDS[number]\n   ```\n\n4. **src/pack/index.ts:479**\n   ```typescript\n   // Use proper typing for test helper attachment\n   ```\n\n5. **src/cli/commands/diff.ts:993**\n   ```typescript\n   // Import proper BundledLanguage type from shiki\n   ```\n\n## Acceptance Criteria\n- [ ] All `any` types replaced with proper types\n- [ ] No new @ts-ignore directives\n- [ ] All existing tests pass","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T08:39:55.943459-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T16:41:15.047165-06:00","closed_at":"2026-01-06T16:41:15.047165-06:00","close_reason":"Closed"}
{"id":"gitx-ao1","title":"Fix TypeScript build errors","description":"Add @types/pako, fix 40+ TypeScript errors preventing build. Critical blocker.","status":"closed","priority":0,"issue_type":"bug","created_at":"2026-01-05T03:49:10.787733-06:00","updated_at":"2026-01-05T04:09:28.786865-06:00","closed_at":"2026-01-05T04:09:28.786865-06:00","close_reason":"Closed"}
{"id":"gitx-ash","title":"[REFACTOR] Clean up update hook","description":"Production-ready update hook refactoring:\n- Add branch protection rules\n- Support hook configuration\n- Add hook metrics\n- Tests must continue passing","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T12:39:45.011878-06:00","created_by":"nathanclevenger","updated_at":"2026-01-07T12:39:45.011878-06:00","dependencies":[{"issue_id":"gitx-ash","depends_on_id":"gitx-q67","type":"blocks","created_at":"2026-01-07T12:39:54.292521-06:00","created_by":"nathanclevenger"}]}
{"id":"gitx-av4","title":"GREEN: Implement git-receive-pack","description":"Implement receive-pack to pass tests.\n\n## Implementation\n- Parse ref-update commands\n- Receive and unpack pack data\n- Validate pushed objects\n- Atomic ref updates\n- Report status","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:47:59.067577-06:00","updated_at":"2026-01-05T08:49:31.090827-06:00","closed_at":"2026-01-05T08:49:31.090827-06:00","close_reason":"Tests passing - all related test files pass","dependencies":[{"issue_id":"gitx-av4","depends_on_id":"gitx-8fg","type":"blocks","created_at":"2026-01-04T17:49:15.980575-06:00","created_by":"daemon"}]}
{"id":"gitx-av8","title":"GREEN: Implement CDC pipeline","description":"Implement CDC to pass tests.\n\n## Implementation  \n- Cloudflare Pipeline integration\n- Event batching\n- Retry on failure\n- Dead letter handling","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:48:13.215918-06:00","updated_at":"2026-01-05T08:50:04.26421-06:00","closed_at":"2026-01-05T08:50:04.26421-06:00","close_reason":"Tests passing - all related test files pass","dependencies":[{"issue_id":"gitx-av8","depends_on_id":"gitx-81z","type":"blocks","created_at":"2026-01-04T17:49:24.656722-06:00","created_by":"daemon"}]}
{"id":"gitx-b08","title":"RED: git-upload-pack (fetch/clone) tests","description":"Write failing tests for upload-pack.\n\n## Tests\n- /info/refs?service=git-upload-pack response format\n- Ref advertisement with capabilities\n- Want/have negotiation\n- ACK/NAK responses\n- Pack data with side-band\n- Shallow clone support\n- Filter support (blob:none, tree:0)\n\n## Files\n- src/wire/upload-pack.ts (stubs)\n- test/wire/upload-pack.test.ts (failing)","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:47:54.486706-06:00","updated_at":"2026-01-04T18:30:12.03805-06:00","closed_at":"2026-01-04T18:30:12.03805-06:00","close_reason":"Closed"}
{"id":"gitx-b2l","title":"[GREEN] Implement pkt-line encoding","description":"Implement minimal code to pass pkt-line tests:\n- Implement encodePktLine with hex length\n- Implement decodePktLine parsing\n- Handle special packets (flush, delim)\n- Implement streaming parser\n\nFocus on making tests pass.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-07T12:38:42.692605-06:00","created_by":"nathanclevenger","updated_at":"2026-01-07T12:38:42.692605-06:00","dependencies":[{"issue_id":"gitx-b2l","depends_on_id":"gitx-1y4","type":"blocks","created_at":"2026-01-07T12:38:54.005409-06:00","created_by":"nathanclevenger"}]}
{"id":"gitx-b33","title":"RED: Ref storage and resolution tests","description":"Write failing tests for refs.\n\n## Tests\n- Store ref (name -\u003e sha)\n- Read ref returns sha\n- Symbolic ref (HEAD -\u003e ref: refs/heads/main)\n- Resolve symbolic ref chain\n- List refs by prefix\n- Ref not found returns null\n\n## Files\n- src/refs/store.ts (stubs)\n- test/refs/store.test.ts (failing)","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:47:58.876872-06:00","updated_at":"2026-01-04T18:42:31.496103-06:00","closed_at":"2026-01-04T18:42:31.496103-06:00","close_reason":"Closed"}
{"id":"gitx-b3j","title":"RED: Packfile format parsing and generation tests","description":"Write failing tests for packfile format.\n\n## Tests\n- Parse pack header (PACK, version, object count)\n- Parse pack entry header (type, size, variable-length encoding)\n- Parse full object entry\n- Parse OFS_DELTA entry  \n- Parse REF_DELTA entry\n- Generate valid pack header\n- Generate pack entries\n- Generate and verify checksum\n\n## Files\n- src/pack/format.ts (stubs)\n- test/pack/format.test.ts (failing)","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:47:45.137002-06:00","updated_at":"2026-01-04T18:05:58.183479-06:00","closed_at":"2026-01-04T18:05:58.183479-06:00","close_reason":"RED tests written - all tests failing as expected"}
{"id":"gitx-b49","title":"GREEN: Implement smart HTTP handler","description":"Implement HTTP routing to pass tests.\n\n## Implementation\n- Parse URL path for repo/service\n- Dispatch to upload-pack or receive-pack\n- Set correct headers\n- Handle errors gracefully","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:48:01.715771-06:00","updated_at":"2026-01-05T08:49:31.091516-06:00","closed_at":"2026-01-05T08:49:31.091516-06:00","close_reason":"Tests passing - all related test files pass","dependencies":[{"issue_id":"gitx-b49","depends_on_id":"gitx-0qj","type":"blocks","created_at":"2026-01-04T17:49:16.215916-06:00","created_by":"daemon"}]}
{"id":"gitx-bb2","title":"[REFACTOR] Clean up git-upload-pack","description":"Production-ready upload-pack refactoring:\n- Optimize pack generation for large repos\n- Implement delta compression optimization\n- Add progress reporting\n- Support all Git capabilities\n- Tests must continue passing","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T12:37:31.719243-06:00","created_by":"nathanclevenger","updated_at":"2026-01-07T12:37:31.719243-06:00","dependencies":[{"issue_id":"gitx-bb2","depends_on_id":"gitx-z4i","type":"blocks","created_at":"2026-01-07T12:37:42.685392-06:00","created_by":"nathanclevenger"}]}
{"id":"gitx-bf2","title":"Create src/index.ts entry point","description":"Create main entry point that exports public API. Required for npm publish.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-05T03:49:07.873574-06:00","updated_at":"2026-01-05T04:09:28.752394-06:00","closed_at":"2026-01-05T04:09:28.752394-06:00","close_reason":"Closed"}
{"id":"gitx-bhk","title":"RED: Object location index tests","description":"Write failing tests for location index.\n\n## Tests\n- Record object in hot tier\n- Record object in pack tier\n- Record object in LFS tier\n- Lookup returns correct location\n- Bulk lookup efficient\n- Update location on tier migration\n\n## Files\n- src/tiered/location-index.ts (stubs)\n- test/tiered/location-index.test.ts (failing)","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:47:55.856938-06:00","updated_at":"2026-01-04T18:44:46.279105-06:00","closed_at":"2026-01-04T18:44:46.279105-06:00","close_reason":"Closed"}
{"id":"gitx-bhu","title":"[RED] Test blob object storage","description":"Write failing tests for blob object storage:\n- Test putObject('blob', data) stores blob correctly\n- Test getObject returns correct blob data\n- Test getBlobObject returns typed BlobObject\n- Test SHA-1 hash is computed correctly (Git format: blob size\\0content)\n- Test blob integrity verification\n- Test cache hit/miss behavior\n\nAll tests should FAIL initially (Red phase).","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-07T12:34:31.258599-06:00","created_by":"nathanclevenger","updated_at":"2026-01-09T03:42:36.970098-06:00","closed_at":"2026-01-09T03:42:36.970098-06:00","close_reason":"RED phase tests for blob object storage complete. 48 tests covering: storing blobs by SHA, retrieving blob content, typed blob retrieval, deduplication, compression, integrity verification, cache behavior, edge cases, existence checks, and deletion. All tests fail as expected for RED phase."}
{"id":"gitx-bhxf","title":"Implement GitModule with dependency on FsModule","description":"Implement the GitModule class that depends on FsModule for file operations. The module should integrate with dotdo's workflow context pattern.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-08T18:38:46.720819-06:00","updated_at":"2026-01-08T19:44:24.514178-06:00","closed_at":"2026-01-08T19:44:24.514178-06:00","close_reason":"GitModule implemented with full test coverage. Features: R2 sync, push operations, status/add/commit workflow, tree parsing, withGit mixin placeholder. 68 tests passing. Exported via gitx.do/do entry point.","dependencies":[{"issue_id":"gitx-bhxf","depends_on_id":"gitx-nnfj","type":"parent-child","created_at":"2026-01-08T18:39:04.676319-06:00","created_by":"daemon"}]}
{"id":"gitx-bomj","title":"Foundation: Test infrastructure for git operations","description":"Set up vitest tests for git operations including pack parsing, wire protocol, and DO integration. Use miniflare for testing DO storage layer.","notes":"Test infrastructure is now complete.\n\nChanges made:\n1. Updated vitest.config.ts to exclude CLI and MCP tests from Workers pool (they require Node.js APIs)\n2. Created vitest.node.config.ts for Node.js-specific tests\n3. Added npm scripts: test:node and test:all\n\nTest results:\n- Workers pool tests: All passing (only memory crash at cleanup, not test failures)\n- Node.js pool tests: 1801 tests passing (29 test files)\n\nThe test infrastructure supports:\n- Mock implementations for FsCapability, R2Bucket\n- Integration with vitest\n- Separate test pools for Workers (edge) and Node.js tests\n- Pack parsing, wire protocol, and DO integration tests\n\nNote: The vitest-pool-workers has a known memory issue when running many tests in sequence. Individual test files all pass.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-08T19:18:47.146246-06:00","created_by":"nathanclevenger","updated_at":"2026-01-09T13:56:04.538131-06:00","closed_at":"2026-01-09T13:56:04.538131-06:00","close_reason":"Test infrastructure complete - split Workers/Node tests, all tests passing","labels":["foundation","tests"]}
{"id":"gitx-box","title":"[TDD] MCP Migration - Green Phase","description":"Implement minimal code to pass all migration tests:\n- Extend DO base class: class GitRepo extends DO\n- Remove custom MCP tools, inherit from DO\n- Add git operations to allowedMethods Set\n- Implement search() to query commits/files\n- Implement fetch() to resolve object by SHA/ref\n- Ensure do() has git operations in scope\n\nFocus on making tests pass with simplest implementation.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T12:12:09.362385-06:00","updated_at":"2026-01-06T16:41:14.937476-06:00","closed_at":"2026-01-06T16:41:14.937476-06:00","close_reason":"Closed"}
{"id":"gitx-buqg","title":"RED: Wire protocol tests","description":"Write failing tests for git wire protocol.\n\nTest categories:\n- pkt-line encoding (length prefix, data)\n- pkt-line decoding\n- Flush packets (0000)\n- Delimiter packets (0001)\n- Capabilities parsing\n- Reference advertisement\n- Want/have negotiation\n- Side-band demuxing","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-10T12:46:53.857627-06:00","created_by":"nathanclevenger","updated_at":"2026-01-10T12:46:53.857627-06:00","labels":["red","tdd","wire"]}
{"id":"gitx-bw7x","title":"GREEN: Create App.mdx and Site.mdx","description":"Create marketing and dashboard pages:\n\n**Site.mdx** - LandingPage with:\n- Hero: \"Git for the edge\"\n- Features: Pure JS, No Git binary, Tiered storage\n- Pricing: Core (free) vs Managed service\n\n**App.mdx** - DeveloperDashboard with:\n- Repository browser\n- Commit history\n- Branch management","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-10T12:47:33.14283-06:00","created_by":"nathanclevenger","updated_at":"2026-01-10T12:47:33.14283-06:00","labels":["green","tdd","ui"]}
{"id":"gitx-c7z","title":"Epic: High-Level Git Operations","description":"User-facing git commands.\n\n## Scope\n- git commit (tree building, commit creation)\n- git log (commit traversal)\n- git diff (tree comparison)\n- git merge (3-way merge)\n- git blame (line attribution)\n\n## Success Criteria\n- All operations produce correct results\n- Efficient algorithms\n- MCP tool exposure","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-04T17:47:55.278214-06:00","updated_at":"2026-01-05T08:53:11.344247-06:00","closed_at":"2026-01-05T08:53:11.344247-06:00","close_reason":"Core functionality complete - all RED/GREEN tasks done"}
{"id":"gitx-c8wn","title":"Export BashModule class from bashx/do entry point","description":"Create and export the BashModule class from a new bashx/do entry point that can be imported by dotdo consumers.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-08T18:38:46.552237-06:00","created_by":"nathanclevenger","updated_at":"2026-01-08T19:55:35.769745-06:00","closed_at":"2026-01-08T19:55:35.769745-06:00","close_reason":"Implemented and verified: BashModule class is now exported from bashx/do entry point. Added tsup.config.ts for build configuration, created safety module entry point, fixed rpc.do import issue in main index, and fixed type error in traverse.ts."}
{"id":"gitx-c8y","title":"Epic: Core Types \u0026 Data Model","description":"Foundation types for git object model.\n\n## Scope\n- Git object types (blob, tree, commit, tag)\n- SHA-1/SHA-256 hashing utilities  \n- Object serialization/deserialization\n- Type definitions for all git concepts\n\n## Success Criteria\n- 100% type coverage\n- All serialization round-trips work\n- Comprehensive test suite","status":"closed","priority":0,"issue_type":"epic","created_at":"2026-01-04T17:47:45.200388-06:00","updated_at":"2026-01-05T08:52:59.502792-06:00","closed_at":"2026-01-05T08:52:59.502792-06:00","close_reason":"Core functionality complete - all RED/GREEN tasks done, only optional REFACTOR tasks remain"}
{"id":"gitx-casu","title":"Add R2 tiered storage support (hot in SQLite, warm/cold in R2)","description":"Implement tiered blob storage with hot data stored in SQLite and warm/cold data automatically tiered to R2 for cost-effective storage.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-08T18:38:48.410903-06:00","created_by":"nathanclevenger","updated_at":"2026-01-09T02:45:04.22561-06:00","closed_at":"2026-01-09T02:45:04.22561-06:00","close_reason":"Implemented R2 tiered storage support for GitModule with hot (SQLite), warm (R2 loose objects), and cold (R2 packfiles) tiers"}
{"id":"gitx-cbz","title":"RED: Fix README inaccuracies","description":"README has wrong package name (gitx.do vs gitdo) and incorrect repository URLs","status":"closed","priority":0,"issue_type":"bug","created_at":"2026-01-05T13:38:31.793291-06:00","updated_at":"2026-01-05T13:42:11.367169-06:00","closed_at":"2026-01-05T13:42:11.367169-06:00","close_reason":"README is accurate - package name 'gitx.do' matches package.json. Local folder name 'gitdo' is different but not an issue."}
{"id":"gitx-cfd","title":"GREEN: Implement tier migration","description":"Implement migration to pass tests.\n\n## Implementation\n- Batch collection from WAL\n- Pack generation\n- R2 upload\n- Index updates in transaction\n- Hot tier cleanup","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:48:06.603393-06:00","updated_at":"2026-01-05T08:50:04.263129-06:00","closed_at":"2026-01-05T08:50:04.263129-06:00","close_reason":"Tests passing - all related test files pass","dependencies":[{"issue_id":"gitx-cfd","depends_on_id":"gitx-jcf","type":"blocks","created_at":"2026-01-04T17:49:24.215559-06:00","created_by":"daemon"}]}
{"id":"gitx-chad","title":"Export FsModule class from fsx/do entry point","description":"Create the fsx/do entry point that exports the FsModule class for integration with dotdo Durable Objects.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-08T18:38:47.513866-06:00","created_by":"nathanclevenger","updated_at":"2026-01-09T01:25:41.0371-06:00","closed_at":"2026-01-09T01:25:41.0371-06:00","close_reason":"Verified: FsModule is already exported from fsx/do entry point. Source: /Users/nathanclevenger/projects/fsx/src/durable-object/index.ts exports { FsModule, type FsModuleConfig } from './module.js'. Built output: /Users/nathanclevenger/projects/fsx/dist/durable-object/index.js line 39: export { FsModule } from './module.js'"}
{"id":"gitx-cug","title":"RED: MCP git tool definition tests","description":"Write failing tests for MCP tools.\n\n## Tests\n- git_log tool schema correct\n- git_diff tool schema correct\n- git_show tool schema correct\n- git_commit tool schema correct\n- git_ls_tree tool schema correct\n- Tool names follow conventions\n- Descriptions are informative\n\n## Files\n- src/mcp/tools.ts (stubs)\n- test/mcp/tools.test.ts (failing)","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:47:51.640739-06:00","updated_at":"2026-01-04T18:46:03.730959-06:00","closed_at":"2026-01-04T18:46:03.730959-06:00","close_reason":"Closed"}
{"id":"gitx-cuw","title":"[RED] CLI: gitx cherry-pick command","description":"Write failing tests for gitx cherry-pick CLI command.\n\n## Tests\n- Test basic functionality\n- Test flags and options\n- Test error handling\n\nBlocks: GREEN implementation","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-06T13:09:13.261558-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T21:07:19.672398-06:00","closed_at":"2026-01-06T21:07:19.672398-06:00","close_reason":"Closed"}
{"id":"gitx-czp","title":"[RED] CLI: gitx push command","description":"Write failing tests for gitx push CLI command.\n\n## Tests\n- Test basic functionality\n- Test flags and options\n- Test error handling\n\nBlocks: GREEN implementation","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-06T13:09:08.892555-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T16:51:47.576769-06:00","closed_at":"2026-01-06T16:51:47.576769-06:00","close_reason":"Closed"}
{"id":"gitx-d1r4","title":"[FEATURE] Core: Reflog implementation","description":"Implement reflog for reference history tracking.\n\n## Requirements\n- Track all ref updates (HEAD, branches, etc.)\n- Store reflog in .git/logs/ directory structure\n- Implement reflog expiration and pruning\n- Add 'gitx reflog' command with show/expire/delete subcommands\n- Support HEAD@{n} and branch@{n} syntax\n\n## Affected Files\n- src/core/refs.ts (add reflog writing on ref updates)\n- src/core/reflog.ts (new file for reflog operations)\n- src/cli/commands/reflog.ts (new command implementation)\n- src/cli/index.ts (register reflog command)","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-06T13:09:23.661025-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T17:00:07.020335-06:00","closed_at":"2026-01-06T17:00:07.020335-06:00","close_reason":"Closed"}
{"id":"gitx-d65","title":"Epic: Pack Engine","description":"Git packfile generation and reading.\n\n## Scope\n- Packfile format (header, entries, checksum)\n- Pack index (.idx) generation\n- Delta encoding (copy/insert instructions)\n- OFS_DELTA and REF_DELTA support\n- Thin pack generation for wire protocol\n\n## Success Criteria\n- Compatible with git pack format\n- Efficient delta compression\n- Streaming pack generation","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-04T17:47:48.924113-06:00","updated_at":"2026-01-05T08:53:11.343496-06:00","closed_at":"2026-01-05T08:53:11.343496-06:00","close_reason":"Core functionality complete - all RED/GREEN tasks done"}
{"id":"gitx-dd0","title":"GREEN: Create CHANGELOG.md","description":"CHANGELOG.md missing - required for npm publish. Document v0.0.1, v0.0.2, v0.0.3","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-05T13:38:38.286843-06:00","updated_at":"2026-01-05T13:42:52.469423-06:00","closed_at":"2026-01-05T13:42:52.469423-06:00","close_reason":"Closed"}
{"id":"gitx-de6","title":"[RED] Test git-receive-pack protocol","description":"Write failing tests for git-receive-pack (push):\n- Test ref update commands parsing\n- Test packfile reception and unpacking\n- Test object validation after receive\n- Test ref update atomicity\n- Test capability negotiation\n- Test report-status response\n\nAll tests should FAIL initially (Red phase).","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-07T12:37:44.381991-06:00","created_by":"nathanclevenger","updated_at":"2026-01-07T12:37:44.381991-06:00"}
{"id":"gitx-dmf","title":"Create LICENSE file","description":"Add MIT LICENSE file to match package.json license field.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T03:49:14.619892-06:00","updated_at":"2026-01-05T04:09:28.853863-06:00","closed_at":"2026-01-05T04:09:28.853863-06:00","close_reason":"Closed"}
{"id":"gitx-dsj","title":"RED: Blame algorithm tests","description":"Write failing tests for git blame.\n\n## Tests\n- Attribute lines to commits\n- Handle file modifications\n- Follow renames\n- Copy detection (optional)\n- Incremental output\n\n## Files\n- src/operations/blame.ts (stubs)\n- test/operations/blame.test.ts (failing)","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:48:08.590123-06:00","updated_at":"2026-01-04T18:44:49.967081-06:00","closed_at":"2026-01-04T18:44:49.967081-06:00","close_reason":"Closed"}
{"id":"gitx-dyn","title":"RED: Merge base finding tests","description":"Write failing tests for merge base.\n\n## Tests\n- Find common ancestor of two commits\n- Handle multiple common ancestors\n- Criss-cross merge case\n- Fast-forward detection\n- Already-merged detection\n\n## Files\n- src/operations/merge-base.ts (stubs)\n- test/operations/merge-base.test.ts (failing)","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:48:04.267167-06:00","updated_at":"2026-01-04T18:44:26.064469-06:00","closed_at":"2026-01-04T18:44:26.064469-06:00","close_reason":"Closed"}
{"id":"gitx-dzz","title":"GREEN: Implement MCP SDK adapters","description":"Implement adapters to pass tests.\n\n## Implementation\n- Convert MCP tools to Anthropic format\n- Convert MCP tools to Vercel AI SDK\n- Handle streaming responses\n- Error transformation","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:47:55.218452-06:00","updated_at":"2026-01-04T17:47:55.218452-06:00","closed_at":"2026-01-05T00:56:22Z","dependencies":[{"issue_id":"gitx-dzz","depends_on_id":"gitx-ion","type":"blocks","created_at":"2026-01-04T17:49:17.906043-06:00","created_by":"daemon"}]}
{"id":"gitx-e0v","title":"GREEN: Implement packfile format","description":"Implement packfile parsing/generation.\n\n## Implementation\n- Variable-length integer encoding\n- Object type encoding (3 bits)\n- Size encoding (variable length)\n- SHA-1 checksum at end\n- Streaming pack writer","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:47:46.326945-06:00","updated_at":"2026-01-04T18:15:32.577513-06:00","closed_at":"2026-01-04T18:15:32.577513-06:00","close_reason":"Closed","dependencies":[{"issue_id":"gitx-e0v","depends_on_id":"gitx-b3j","type":"blocks","created_at":"2026-01-04T17:49:12.486232-06:00","created_by":"daemon"}]}
{"id":"gitx-e5m","title":"REFACTOR: Replace global repositoryContext with DI","description":"src/mcp/tools.ts:169 uses mutable global state. Replace with dependency injection for thread safety.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T13:39:16.987561-06:00","updated_at":"2026-01-06T16:41:14.989119-06:00","closed_at":"2026-01-06T16:41:14.989119-06:00","close_reason":"Closed"}
{"id":"gitx-e5v","title":"[RED] Test commit object storage","description":"Write failing tests for commit object storage:\n- Test putCommitObject stores commit with tree, parents, author, committer, message\n- Test getCommitObject parses all fields correctly\n- Test initial commit (no parents)\n- Test merge commit (multiple parents)\n- Test author/committer timestamp and timezone parsing\n- Test commit message formatting (subject + body)\n\nAll tests should FAIL initially (Red phase).","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-07T12:35:18.700711-06:00","created_by":"nathanclevenger","updated_at":"2026-01-09T05:06:30.214738-06:00","closed_at":"2026-01-09T05:06:30.214738-06:00","close_reason":"Created comprehensive test file for commit object storage covering all required scenarios: putCommitObject, getCommitObject, initial commits, merge commits, timestamp/timezone parsing, and message formatting."}
{"id":"gitx-e74","title":"RED: Tree diff algorithm tests","description":"Write failing tests for tree diff.\n\n## Tests\n- Detect added files\n- Detect deleted files\n- Detect modified files\n- Detect renamed files (similarity)\n- Recursive tree comparison\n- Binary file detection\n\n## Files\n- src/operations/diff.ts (stubs)\n- test/operations/diff.test.ts (failing)","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:48:01.927525-06:00","updated_at":"2026-01-04T18:45:31.460348-06:00","closed_at":"2026-01-04T18:45:31.460348-06:00","close_reason":"Closed"}
{"id":"gitx-e7l","title":"[RED] Test Smart HTTP transport","description":"Write failing tests for Git Smart HTTP transport:\n- Test GET /info/refs?service=git-upload-pack\n- Test GET /info/refs?service=git-receive-pack\n- Test POST /git-upload-pack (fetch)\n- Test POST /git-receive-pack (push)\n- Test correct Content-Type headers\n- Test pkt-line encoding/decoding\n- Test capability advertisement\n\nAll tests should FAIL initially (Red phase).","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-07T12:38:23.922316-06:00","created_by":"nathanclevenger","updated_at":"2026-01-07T12:38:23.922316-06:00"}
{"id":"gitx-ef9","title":"RED: Branch operation tests","description":"Write failing tests for branches.\n\n## Tests\n- Create branch at commit\n- Delete branch\n- Rename branch  \n- List branches\n- Current branch detection\n- Branch exists check\n\n## Files\n- src/refs/branches.ts (stubs)\n- test/refs/branches.test.ts (failing)","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:48:01.262728-06:00","updated_at":"2026-01-04T18:41:59.313656-06:00","closed_at":"2026-01-04T18:41:59.313656-06:00","close_reason":"Closed"}
{"id":"gitx-eo7","title":"RED: WorkerLoader interface and types","description":"TDD Red phase: Write failing tests for WorkerLoader interface that enables V8 isolate sandboxing. Based on patterns from mongo.do and db4.ai. Tests should verify: 1) WorkerLoader.get(id, getCode) returns WorkerStub 2) WorkerStub.fetch() and getEntrypoint() methods 3) WorkerCode interface with mainModule, modules, globalOutbound, env","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T11:01:59.431284-06:00","updated_at":"2026-01-05T11:12:44.542566-06:00","closed_at":"2026-01-05T11:12:44.542566-06:00","close_reason":"RED phase complete - failing tests created"}
{"id":"gitx-etc","title":"Epic: gitx CLI with @opentui/react","description":"Build a terminal UI CLI for gitx using @opentui/react for interactive diff visualization, status, log, and other git commands. Pure JS - no native git required.\n\n## Goals\n- Interactive terminal UI using @opentui/react\n- Syntax-highlighted diffs with Shiki\n- Commands: status, diff, log, blame, commit, branch, review\n- Shareable web preview feature\n\n## Success Criteria\n- All commands work without native git\n- Beautiful terminal UI with keyboard navigation\n- 100% test coverage for CLI commands","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-05T05:46:10.378556-06:00","updated_at":"2026-01-05T07:06:31.597586-06:00","closed_at":"2026-01-05T07:06:31.597586-06:00","close_reason":"Epic complete - all CLI commands implemented"}
{"id":"gitx-f064","title":"[RED] MCP: git_grep tool","description":"Write failing tests for git_grep MCP tool.\n\n## Required Functionality\n- Search for patterns in tracked files\n- Support regex and fixed strings\n- Search at specific revision\n- Show line numbers and context\n- Filter by file patterns\n\n## Input Schema\n- pattern: string (search pattern, required)\n- revision: string (SHA/ref, optional)\n- path_pattern: string (file filter, optional)\n- case_insensitive: boolean\n- word_regexp: boolean\n- line_number: boolean\n- context_lines: number\n\nBlocks: GREEN implementation","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-06T13:09:35.856814-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T20:28:46.01199-06:00","closed_at":"2026-01-06T20:28:46.01199-06:00","close_reason":"Closed"}
{"id":"gitx-f2z0","title":"[FEATURE] Core: fsmonitor support","description":"Implement fsmonitor support for file system monitoring performance optimization.\n\n## Requirements\n- Integrate with OS file system monitoring APIs\n- Support core.fsmonitor configuration\n- Cache file system state for faster status checks\n- Hook into watchman or built-in fsevents\n- Reduce stat() calls on large repositories\n\n## Affected Files\n- src/core/fsmonitor.ts (new file for fsmonitor integration)\n- src/core/index.ts (use fsmonitor for status operations)\n- src/core/config.ts (handle core.fsmonitor configuration)\n- src/cli/commands/status.ts (leverage fsmonitor cache)","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-06T13:09:38.660046-06:00","created_by":"nathanclevenger","updated_at":"2026-01-07T02:59:12.015797-06:00","closed_at":"2026-01-07T02:59:12.015797-06:00","close_reason":"Closed"}
{"id":"gitx-fcu","title":"[RED] Branch operations: Write failing tests for createBranch, deleteBranch, renameBranch","description":"## Context\n`src/refs/branch.ts` has 49+ TODOs marked \"Implement in GREEN phase\".\nCurrent implementations throw 'Not implemented'.\n\n## RED Phase\nWrite comprehensive failing tests in `test/refs/branch.test.ts`:\n\n```typescript\ndescribe('BranchManager', () =\u003e {\n  describe('createBranch', () =\u003e {\n    it('should create branch at HEAD', async () =\u003e {\n      const manager = new BranchManager(refStore, objectStore)\n      await manager.createBranch('feature/new', 'HEAD')\n      const ref = await refStore.getRef('refs/heads/feature/new')\n      expect(ref).toBe(headSha)\n    })\n\n    it('should create branch at specific commit', async () =\u003e { ... })\n    it('should fail if branch already exists', async () =\u003e { ... })\n    it('should fail if target commit does not exist', async () =\u003e { ... })\n  })\n\n  describe('deleteBranch', () =\u003e {\n    it('should delete existing branch', async () =\u003e { ... })\n    it('should fail if branch does not exist', async () =\u003e { ... })\n    it('should fail if branch is current HEAD', async () =\u003e { ... })\n    it('should support force delete of unmerged branch', async () =\u003e { ... })\n  })\n\n  describe('renameBranch', () =\u003e {\n    it('should rename branch', async () =\u003e { ... })\n    it('should update upstream tracking', async () =\u003e { ... })\n    it('should fail if new name already exists', async () =\u003e { ... })\n  })\n})\n```\n\n## Acceptance Criteria\n- [ ] Tests written for all branch operations\n- [ ] Tests are failing (implementations throw 'Not implemented')\n- [ ] Edge cases covered","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-06T08:40:30.693584-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T13:19:45.80472-06:00","closed_at":"2026-01-06T13:19:45.80472-06:00","close_reason":"RED phase complete - 68 failing tests written for BranchManager (createBranch, deleteBranch, renameBranch). All tests fail with 'Not implemented' as expected. Test file: test/refs/branch.test.ts"}
{"id":"gitx-fjp","title":"[GREEN] parseTag: Allow tags without tagger field","description":"## Context\nMake the failing test from RED phase pass.\n\n## GREEN Phase\nModify `src/types/objects.ts` parseTag function:\n```typescript\n// Instead of throwing, allow null tagger\nconst tagger = taggerMatch ? parseAuthor(taggerMatch[1]) : undefined\n// Remove: if (!tagger) { throw new Error('Invalid tag: missing tagger') }\n```\n\n## Acceptance Criteria\n- [ ] Test passes\n- [ ] No regression in existing tag tests\n- [ ] Minimal code change only","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-06T08:38:56.275243-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T13:29:45.211943-06:00","closed_at":"2026-01-06T13:29:45.211943-06:00","close_reason":"Closed","dependencies":[{"issue_id":"gitx-fjp","depends_on_id":"gitx-jr1","type":"blocks","created_at":"2026-01-06T08:39:32.937943-06:00","created_by":"nathanclevenger"}]}
{"id":"gitx-fl6","title":"GREEN: Implement R2 pack storage","description":"Implement R2 storage to pass tests.\n\n## Implementation\n- Key format: packs/{repo}/{pack_id}.{pack|idx}\n- Multipart upload for large packs\n- Range requests for object fetch\n- Metadata for pack info","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:48:04.360263-06:00","updated_at":"2026-01-05T08:50:04.262213-06:00","closed_at":"2026-01-05T08:50:04.262213-06:00","close_reason":"Tests passing - all related test files pass","dependencies":[{"issue_id":"gitx-fl6","depends_on_id":"gitx-i6e","type":"blocks","created_at":"2026-01-04T17:49:23.995412-06:00","created_by":"daemon"}]}
{"id":"gitx-fl91","title":"[FEATURE] Transport: Delta base caching","description":"Implement delta base caching to use client objects as delta bases.\n\n## Requirements\n- Cache received objects for use as delta bases\n- Advertise cached objects to server during negotiation\n- Support thin pack generation using client-side bases\n- Implement cache eviction policy (LRU or size-based)\n- Reduce transfer size for incremental fetches\n\n## Implementation Notes\n- Add object cache in transport layer\n- Implement cache key generation (object SHA)\n- Send 'have' lines for cached objects during fetch negotiation\n- Allow server to send thin packs referencing client objects\n- Integrate with pack indexing to resolve thin packs\n- Configure cache size limits\n- Measure transfer size reduction in tests","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-06T13:09:37.391909-06:00","created_by":"nathanclevenger","updated_at":"2026-01-07T02:50:05.994944-06:00","closed_at":"2026-01-07T02:50:05.994944-06:00","close_reason":"Closed"}
{"id":"gitx-foz","title":"Epic: Wire Protocol (Smart HTTP)","description":"Git smart HTTP protocol for clone/fetch/push.\n\n## Scope\n- git-upload-pack (fetch/clone)\n- git-receive-pack (push)  \n- Capability negotiation\n- Packfile streaming\n- pkt-line encoding\n\n## Success Criteria\n- Compatible with git CLI\n- Works with git clone/fetch/push\n- Efficient streaming","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-04T17:47:50.143828-06:00","updated_at":"2026-01-05T08:53:11.343071-06:00","closed_at":"2026-01-05T08:53:11.343071-06:00","close_reason":"Core functionality complete - all RED/GREEN tasks done"}
{"id":"gitx-fvo","title":"GREEN: Implement tag operations","description":"18 functions in src/refs/tag.ts throw 'Not implemented'. Need GREEN phase implementation.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T13:38:44.444112-06:00","updated_at":"2026-01-06T14:05:32.771069-06:00","closed_at":"2026-01-06T14:05:32.771069-06:00","close_reason":"Closed"}
{"id":"gitx-fy9","title":"GREEN: Implement MCP sandbox execution","description":"Implement sandbox to pass tests.\n\n## Implementation\n- Worker loader integration\n- Git API injection\n- Code validation\n- Timeout handling","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:47:57.656124-06:00","updated_at":"2026-01-05T08:48:07.210959-06:00","closed_at":"2026-01-05T08:48:07.210959-06:00","close_reason":"Tests passing (82, 36, 95, 49 tests respectively)","dependencies":[{"issue_id":"gitx-fy9","depends_on_id":"gitx-5r3","type":"blocks","created_at":"2026-01-04T17:49:18.132133-06:00","created_by":"daemon"}]}
{"id":"gitx-g199","title":"DO Integration Module","description":"Create BashModule class that integrates with dotdo's $ WorkflowContext, providing $.bash.exec() and tagged template $.bash`command`. The module depends on FsModule for file access and uses AST-based safety analysis before execution.","status":"open","priority":0,"issue_type":"epic","created_at":"2026-01-08T18:44:52.218003-06:00","created_by":"nathanclevenger","updated_at":"2026-01-08T18:44:52.218003-06:00"}
{"id":"gitx-g1f","title":"RED: Commit graph traversal tests","description":"Write failing tests for log/traversal.\n\n## Tests\n- Walk commits from HEAD\n- Follow first-parent only option\n- Limit by count\n- Limit by date\n- Path filtering (commits touching path)\n- Skip merges option\n- Topological sort\n\n## Files\n- src/operations/log.ts (stubs)\n- test/operations/log.test.ts (failing)","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:47:59.699832-06:00","updated_at":"2026-01-04T18:45:57.77912-06:00","closed_at":"2026-01-04T18:45:57.77912-06:00","close_reason":"Closed"}
{"id":"gitx-g6m","title":"Epic: MCP Server \u0026 AI Tools","description":"Model Context Protocol server for AI agent access.\n\n## Scope\n- MCP tool definitions for git operations\n- Anthropic/Vercel SDK adapters\n- Sandboxed code execution\n- Session management\n\n## Success Criteria\n- Full git operations via MCP\n- Secure sandbox execution\n- Works with Claude and other LLMs","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-04T17:47:52.9441-06:00","updated_at":"2026-01-05T08:53:11.342268-06:00","closed_at":"2026-01-05T08:53:11.342268-06:00","close_reason":"Core functionality complete - all RED/GREEN tasks done"}
{"id":"gitx-gnp","title":"[TDD] MCP Migration - Refactor Phase","description":"Production-ready MCP migration refactoring:\n- Optimize search() for stream queries\n- Add JetStream support\n- Implement message acknowledgment in do()\n- Add consumer group handling\n- Performance testing\n- Documentation for migrated API\n\nTests must continue passing.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T12:12:31.265156-06:00","updated_at":"2026-01-06T16:51:47.550296-06:00","closed_at":"2026-01-06T16:51:47.550296-06:00","close_reason":"Closed"}
{"id":"gitx-grox","title":"[RED] MCP: git_blame tool","description":"Write failing tests for git_blame MCP tool.\n\n## Required Functionality\n- Show line-by-line commit attribution\n- Display commit SHA, author, date for each line\n- Support line range filtering\n- Handle file at specific revision\n- Include original line numbers\n\n## Input Schema\n- path: string (file path, required)\n- revision: string (SHA/ref, optional)\n- start_line: number (optional)\n- end_line: number (optional)\n- show_email: boolean\n- show_stats: boolean\n\nBlocks: GREEN implementation","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-06T13:09:27.226223-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T13:36:20.890542-06:00","closed_at":"2026-01-06T13:36:20.890542-06:00","close_reason":"Closed"}
{"id":"gitx-gy4","title":"[GREEN] Implement branch reference management","description":"Implement minimal code to pass branch management tests:\n- Implement createBranch with refs/heads/ prefix\n- Implement deleteBranch\n- Implement listBranches querying refs/heads/*\n- Implement getCurrentBranch reading HEAD\n- Implement checkoutBranch updating HEAD\n\nFocus on making tests pass.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-07T12:36:18.144569-06:00","created_by":"nathanclevenger","updated_at":"2026-01-09T07:12:46.346246-06:00","closed_at":"2026-01-09T07:12:46.346246-06:00","close_reason":"GREEN phase completed. All 54 tests in branch-reference-management.test.ts now pass. Implemented:\n- Convenience functions: createBranch, deleteBranch, renameBranch, listBranches, getCurrentBranch\n- BranchManager stub methods: setUpstream, getTrackingInfo, isMerged, forceDeleteBranch\n- Also improved existing tests from 33 passing to 65 passing in branch.test.ts","dependencies":[{"issue_id":"gitx-gy4","depends_on_id":"gitx-69g","type":"blocks","created_at":"2026-01-07T12:36:34.521226-06:00","created_by":"nathanclevenger"}]}
{"id":"gitx-gzh","title":"Add packet size limits to wire protocol","description":"No max packet size validation in pkt-line decoding. Add MAX_PKT_LINE_DATA validation to prevent DoS.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-05T03:49:24.157781-06:00","updated_at":"2026-01-05T04:09:28.986185-06:00","closed_at":"2026-01-05T04:09:28.986185-06:00","close_reason":"Closed"}
{"id":"gitx-h32","title":"GREEN: Implement packfile generator","description":"Implement generator to pass tests.\n\n## Implementation\n- Object graph traversal\n- Delta base selection\n- Streaming output\n- Progress callbacks","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:47:55.96703-06:00","updated_at":"2026-01-05T08:49:31.090037-06:00","closed_at":"2026-01-05T08:49:31.090037-06:00","close_reason":"Tests passing - all related test files pass","dependencies":[{"issue_id":"gitx-h32","depends_on_id":"gitx-pqv","type":"blocks","created_at":"2026-01-04T17:49:13.384049-06:00","created_by":"daemon"}]}
{"id":"gitx-h3r8","title":"[FEATURE] Transport: Git protocol v2 support","description":"Implement modern Git protocol v2 for improved performance and capabilities.\n\n## Requirements\n- Implement protocol v2 capability advertisement\n- Support ls-refs command for reference discovery\n- Support fetch command with protocol v2 improvements\n- Implement server-side filtering and sparse checkout support\n- Handle protocol v2 specific packfile negotiation\n- Backward compatibility with protocol v1/v0\n\n## Implementation Notes\n- Add protocol version negotiation in transport layer\n- Implement v2 command-based request/response model\n- Update reference discovery to use ls-refs\n- Refactor fetch to support v2 fetch command\n- Enable by default with fallback to v1\n- Protocol v2 provides better performance and extensibility\n- See Git protocol-v2.txt documentation for specification","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-06T13:09:33.30648-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T20:52:01.122609-06:00","closed_at":"2026-01-06T20:52:01.122609-06:00","close_reason":"Closed"}
{"id":"gitx-hfoq","title":"[FEATURE] Core: Sparse index support","description":"Implement sparse index support for partial working tree.\n\n## Requirements\n- Support sparse-checkout patterns\n- Implement sparse index format\n- Add 'gitx sparse-checkout' command\n- Reduce index size for large repositories\n- Support cone mode for directory-level sparsity\n\n## Affected Files\n- src/core/sparse.ts (new file for sparse operations)\n- src/core/index.ts (handle sparse index format)\n- src/cli/commands/sparse-checkout.ts (new command implementation)\n- src/cli/index.ts (register sparse-checkout command)","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-06T13:09:37.506152-06:00","created_by":"nathanclevenger","updated_at":"2026-01-07T02:59:12.04411-06:00","closed_at":"2026-01-07T02:59:12.04411-06:00","close_reason":"Closed"}
{"id":"gitx-hfyh","title":"RED: Pack format tests","description":"Write failing tests for pack file handling.\n\nTest categories:\n- Pack header parsing (PACK magic, version, count)\n- Object entry parsing (type, size, data)\n- OFS_DELTA and REF_DELTA handling\n- Pack index (.idx) parsing\n- Pack checksum verification\n- Multi-pack index support\n- Large pack files (\u003e4GB)","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-10T12:46:53.276217-06:00","created_by":"nathanclevenger","updated_at":"2026-01-10T12:46:53.276217-06:00","labels":["pack","red","tdd"]}
{"id":"gitx-hhw","title":"RED: gitx status command","description":"Write failing tests for status command.\n\n## Tests to Write\n- Shows untracked files\n- Shows modified files\n- Shows staged files\n- Shows branch name\n- Shows clean working directory message\n- Handles non-git directory error","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T05:46:44.797969-06:00","updated_at":"2026-01-05T06:40:17.35745-06:00","closed_at":"2026-01-05T06:40:17.35745-06:00","close_reason":"GREEN phase complete - all tests pass","dependencies":[{"issue_id":"gitx-hhw","depends_on_id":"gitx-7vz","type":"blocks","created_at":"2026-01-05T06:12:41.878094-06:00","created_by":"daemon"},{"issue_id":"gitx-hhw","depends_on_id":"gitx-ani","type":"blocks","created_at":"2026-01-05T06:12:42.164645-06:00","created_by":"daemon"}]}
{"id":"gitx-hjt","title":"REFACTOR: Core types cleanup and documentation","description":"Clean up and document core types.\n\n## Tasks\n- Add JSDoc to all types\n- Export from index.ts\n- Ensure consistent naming\n- Add validation helpers\n- Performance optimization if needed","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T17:47:42.841168-06:00","updated_at":"2026-01-05T09:00:08.106863-06:00","closed_at":"2026-01-05T09:00:08.106863-06:00","close_reason":"Completed core types cleanup: Added comprehensive validation helpers (isValidSha, isValidObjectType, isValidMode, validateTreeEntry, validateAuthor, validateCommit, validateTag, validateRefName, validateRefUpdate, validateStoreParams, assertValidSha, assertValidRefName), exported all storage interface types from index.ts, and verified JSDoc coverage is complete across objects.ts and storage.ts","dependencies":[{"issue_id":"gitx-hjt","depends_on_id":"gitx-lqk","type":"blocks","created_at":"2026-01-04T17:49:09.927999-06:00","created_by":"daemon"}]}
{"id":"gitx-hjz","title":"Implement atomic pack uploads","description":"Pack and index uploaded separately causing potential corruption. Implement staging/atomic move pattern.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-05T03:49:27.429646-06:00","updated_at":"2026-01-05T04:32:07.105903-06:00","closed_at":"2026-01-05T04:32:07.105903-06:00","close_reason":"Closed"}
{"id":"gitx-hquv","title":"[RED] MCP: git_merge_base tool","description":"Write failing tests for git_merge_base MCP tool.\n\n## Required Functionality\n- Find common ancestor between commits\n- Support multiple commit references\n- Handle fork points\n- Show all merge bases\n- Validate commit existence\n\n## Input Schema\n- commit1: string (SHA/ref, required)\n- commit2: string (SHA/ref, required)\n- additional_commits: array of strings (optional)\n- show_all: boolean (all merge bases)\n- octopus: boolean (best common ancestor)\n\nBlocks: GREEN implementation","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-06T13:09:34.511322-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T20:28:45.981728-06:00","closed_at":"2026-01-06T20:28:45.981728-06:00","close_reason":"Closed"}
{"id":"gitx-i0p","title":"RED: gitx branch command","description":"Write failing tests for branch command.\n\n## Tests to Write\n- Lists all branches\n- Creates new branch\n- Deletes branch with -d flag\n- Renames branch with -m flag\n- Shows current branch indicator\n- Switches branch with checkout subcommand","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T05:46:52.009961-06:00","updated_at":"2026-01-05T07:06:20.388276-06:00","closed_at":"2026-01-05T07:06:20.388276-06:00","close_reason":"GREEN phase complete - all tests pass","dependencies":[{"issue_id":"gitx-i0p","depends_on_id":"gitx-7vz","type":"blocks","created_at":"2026-01-05T06:12:44.849998-06:00","created_by":"daemon"},{"issue_id":"gitx-i0p","depends_on_id":"gitx-ani","type":"blocks","created_at":"2026-01-05T06:12:45.146631-06:00","created_by":"daemon"}]}
{"id":"gitx-i2p","title":"GREEN: Implement object location index","description":"Implement location index to pass tests.\n\n## Implementation\n- object_index table\n- Tier enum: hot, pack, lfs\n- Location format per tier\n- Efficient batch queries","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:47:58.195362-06:00","updated_at":"2026-01-05T08:48:07.211372-06:00","closed_at":"2026-01-05T08:48:07.211372-06:00","close_reason":"Tests passing (82, 36, 95, 49 tests respectively)","dependencies":[{"issue_id":"gitx-i2p","depends_on_id":"gitx-bhk","type":"blocks","created_at":"2026-01-04T17:49:23.545215-06:00","created_by":"daemon"}]}
{"id":"gitx-i6e","title":"RED: R2 packfile storage tests","description":"Write failing tests for R2 pack storage.\n\n## Tests\n- Write pack to R2\n- Write index to R2  \n- Read pack with range request\n- Read index\n- List packs for repo\n- Delete old packs (GC)\n\n## Files\n- src/tiered/r2-store.ts (stubs)\n- test/tiered/r2-store.test.ts (failing)","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:48:02.153594-06:00","updated_at":"2026-01-04T18:45:56.565658-06:00","closed_at":"2026-01-04T18:45:56.565658-06:00","close_reason":"Closed"}
{"id":"gitx-ijr","title":"RED: Three-way merge tests","description":"Write failing tests for 3-way merge.\n\n## Tests\n- Merge non-conflicting changes\n- Detect conflicts (both modified)\n- Conflict markers in output\n- File add/delete handling\n- Rename following\n- Recursive merge strategy\n\n## Files\n- src/operations/merge.ts (stubs)\n- test/operations/merge.test.ts (failing)","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:48:06.204476-06:00","updated_at":"2026-01-04T18:45:31.45865-06:00","closed_at":"2026-01-04T18:45:31.45865-06:00","close_reason":"Closed"}
{"id":"gitx-ilpf","title":"[RED] MCP: git_bisect tools","description":"Write failing tests for git_bisect MCP tools (start, bad, good, reset).\n\n## Required Functionality\n- Start bisect session with good/bad commits\n- Mark commits as good or bad\n- Automatic bisection to find problematic commit\n- Reset bisect state\n- Support scripted bisection\n\n## Input Schema\ngit_bisect_start:\n- bad_commit: string (SHA/ref, optional)\n- good_commit: string (SHA/ref, optional)\n- paths: array of strings (optional)\n\ngit_bisect_bad:\n- commit: string (SHA/ref, optional, defaults to HEAD)\n\ngit_bisect_good:\n- commits: array of strings (one or more refs)\n\ngit_bisect_reset:\n- commit: string (reset to specific commit)\n\nBlocks: GREEN implementation","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-06T13:09:44.580576-06:00","created_by":"nathanclevenger","updated_at":"2026-01-07T02:50:05.87411-06:00","closed_at":"2026-01-07T02:50:05.87411-06:00","close_reason":"Closed"}
{"id":"gitx-in9","title":"RED: ObjectStore proxy for sandbox","description":"TDD Red phase: Write failing tests for ObjectStore proxy (like DB_PROXY pattern). Tests should verify: 1) WorkerEntrypoint class for DO access 2) Controlled getObject, putObject, listObjects 3) Permission checks on each operation 4) Request routing through stub.fetch()","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T11:02:19.29247-06:00","updated_at":"2026-01-05T11:11:17.33963-06:00","closed_at":"2026-01-05T11:11:17.33963-06:00","close_reason":"Closed","dependencies":[{"issue_id":"gitx-in9","depends_on_id":"gitx-eo7","type":"blocks","created_at":"2026-01-05T11:03:43.95111-06:00","created_by":"nathanclevenger"}]}
{"id":"gitx-ion","title":"RED: MCP SDK adapter tests","description":"Write failing tests for SDK adapters.\n\n## Tests\n- Anthropic adapter converts tools correctly\n- Vercel adapter converts tools correctly\n- Tool results formatted correctly\n- Error handling works\n\n## Files\n- src/mcp/adapters/anthropic.ts (stubs)\n- src/mcp/adapters/vercel.ts (stubs)\n- test/mcp/adapters.test.ts (failing)","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:47:53.886179-06:00","updated_at":"2026-01-04T18:45:10.448058-06:00","closed_at":"2026-01-04T18:45:10.448058-06:00","close_reason":"Closed"}
{"id":"gitx-jcf","title":"RED: Tier migration (hot-\u003ewarm) tests","description":"Write failing tests for tier migration.\n\n## Tests\n- Collect objects for packing\n- Generate pack from objects\n- Write to R2\n- Update location index\n- Delete from hot tier\n- WAL marked as flushed\n- Atomic transaction\n\n## Files\n- src/tiered/migrator.ts (stubs)\n- test/tiered/migrator.test.ts (failing)","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:48:05.439973-06:00","updated_at":"2026-01-04T18:45:20.275947-06:00","closed_at":"2026-01-04T18:45:20.275947-06:00","close_reason":"Closed"}
{"id":"gitx-jem1","title":"RED: GitBackend interface tests","description":"Write failing tests for GitBackend pluggable storage interface.\n\nInterface should support:\n- readObject(sha): Promise\u003cGitObject\u003e\n- writeObject(obj): Promise\u003cstring\u003e // returns sha\n- hasObject(sha): Promise\u003cboolean\u003e\n- readRef(name): Promise\u003cstring | null\u003e\n- writeRef(name, sha): Promise\u003cvoid\u003e\n- listRefs(prefix?): Promise\u003cRef[]\u003e\n- readPack(id): Promise\u003cReadableStream\u003e\n- writePack(stream): Promise\u003cstring\u003e\n\nTest with mock backend that records calls.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-10T12:46:54.452328-06:00","created_by":"nathanclevenger","updated_at":"2026-01-10T12:46:54.452328-06:00","labels":["interface","red","tdd"]}
{"id":"gitx-jn8","title":"[RED] CLI: gitx show command","description":"Write failing tests for gitx show CLI command.\n\n## Tests\n- Test basic functionality\n- Test flags and options\n- Test error handling\n\nBlocks: GREEN implementation","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-06T13:09:15.60703-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T21:31:34.339949-06:00","closed_at":"2026-01-06T21:31:34.339949-06:00","close_reason":"Closed"}
{"id":"gitx-jqv","title":"[RED] CLI: gitx remote command","description":"Write failing tests for gitx remote CLI command.\n\n## Tests\n- Test basic functionality\n- Test flags and options\n- Test error handling\n\nBlocks: GREEN implementation","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-06T13:09:18.149286-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T21:31:34.402386-06:00","closed_at":"2026-01-06T21:31:34.402386-06:00","close_reason":"Closed"}
{"id":"gitx-jr1","title":"[RED] parseTag: Test for tags without tagger field","description":"## Context\nGit spec allows annotated tags without tagger field (older Git versions, edge cases).\nCurrent `parseTag` throws: `throw new Error('Invalid tag: missing tagger')`\nBut `TagObject.tagger` is correctly typed as optional.\n\n## RED Phase\nWrite failing test in `test/types/objects.test.ts`:\n```typescript\ndescribe('parseTag', () =\u003e {\n  it('should parse tag without tagger field', () =\u003e {\n    const tagData = Buffer.from(\n      'object 1234567890123456789012345678901234567890\\n' +\n      'type commit\\n' +\n      'tag v1.0.0\\n' +\n      '\\n' +\n      'Release v1.0.0'\n    )\n    const tag = parseTag(tagData)\n    expect(tag.tagger).toBeUndefined()\n    expect(tag.tagName).toBe('v1.0.0')\n  })\n})\n```\n\n## Acceptance Criteria\n- [ ] Test written and failing\n- [ ] Test covers edge case of missing tagger","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-06T08:38:49.023997-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T13:17:58.605674-06:00","closed_at":"2026-01-06T13:17:58.605674-06:00","close_reason":"RED phase complete - failing tests for tags without tagger"}
{"id":"gitx-jt67","title":"[RED] CLI: gitx bisect command","description":"Write failing tests for gitx bisect CLI command.\n\n## Tests\n- Test basic functionality\n- Test flags and options\n- Test error handling\n\nBlocks: GREEN implementation","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-06T13:09:20.632056-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T21:31:34.44567-06:00","closed_at":"2026-01-06T21:31:34.44567-06:00","close_reason":"Closed"}
{"id":"gitx-jvl","title":"GREEN: Implement tree diff","description":"Implement diff to pass tests.\n\n## Implementation\n- Sort-merge join on tree entries\n- Detect modifications by sha\n- Rename detection via similarity\n- Generate diff hunks","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:48:03.123155-06:00","updated_at":"2026-01-05T08:50:04.261451-06:00","closed_at":"2026-01-05T08:50:04.261451-06:00","close_reason":"Tests passing - all related test files pass","dependencies":[{"issue_id":"gitx-jvl","depends_on_id":"gitx-e74","type":"blocks","created_at":"2026-01-04T17:49:20.814829-06:00","created_by":"daemon"}]}
{"id":"gitx-jwgf","title":"Split gitx into @dotdo/gitx (core) + gitx.do (service)","description":"Refactor gitx following the fsx pattern:\n\n**@dotdo/gitx (core/)** - Pure library, zero CF deps:\n- Object model (blob, tree, commit, tag parsing)\n- Pack file format (src/pack/)\n- Delta encoding/decoding\n- Wire protocol (src/wire/pkt-line)\n- Ref parsing (src/refs/)\n- SHA1/hash utilities\n- Types and errors\n- GitBackend interface for pluggable storage\n\n**gitx.do (root)** - Managed service:\n- Storage backends (src/storage/, src/tiered/)\n- DO integration (src/do/, src/durable-object/)\n- Smart HTTP handlers\n- MCP tools (src/mcp/)\n- CLI (src/cli/)\n- App.mdx, Site.mdx","status":"open","priority":0,"issue_type":"epic","created_at":"2026-01-10T12:46:52.411947-06:00","created_by":"nathanclevenger","updated_at":"2026-01-10T12:46:52.411947-06:00","labels":["architecture","refactor"]}
{"id":"gitx-jyey","title":"Add git binding property (repo, path, branch, commit)","description":"Implement $.git.binding property that provides access to the current git binding configuration including repo, path, branch, and commit.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-08T18:38:47.442062-06:00","updated_at":"2026-01-08T20:31:59.317123-06:00","closed_at":"2026-01-08T20:31:59.317123-06:00","close_reason":"The git binding property is already implemented. The GitBinding interface (lines 148-174 in GitModule.ts) defines repo, path, branch, commit, and lastSync fields. The binding getter (lines 471-479) returns these values. Comprehensive tests exist in GitModule.test.ts (lines 242-258) and git-module.test.ts (lines 139-179). All 167 DO tests pass.","dependencies":[{"issue_id":"gitx-jyey","depends_on_id":"gitx-nnfj","type":"parent-child","created_at":"2026-01-08T18:39:05.321953-06:00","created_by":"daemon"}]}
{"id":"gitx-k7z","title":"[REFACTOR] Clean up tag storage","description":"Production-ready tag storage refactoring:\n- Add GPG signature support for tags\n- Support extra tag headers\n- Add tag validation\n- Tests must continue passing","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T12:35:44.187983-06:00","created_by":"nathanclevenger","updated_at":"2026-01-07T12:35:44.187983-06:00","dependencies":[{"issue_id":"gitx-k7z","depends_on_id":"gitx-vet","type":"blocks","created_at":"2026-01-07T12:36:06.592274-06:00","created_by":"nathanclevenger"}]}
{"id":"gitx-k9j","title":"GREEN: Implement commit creation","description":"Implement commit to pass tests.\n\n## Implementation\n- Build tree from index\n- Get parent from HEAD\n- Format commit object\n- Write commit object\n- Update HEAD atomically","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:47:58.585556-06:00","updated_at":"2026-01-05T08:49:31.090463-06:00","closed_at":"2026-01-05T08:49:31.090463-06:00","close_reason":"Tests passing - all related test files pass","dependencies":[{"issue_id":"gitx-k9j","depends_on_id":"gitx-98g","type":"blocks","created_at":"2026-01-04T17:49:20.337324-06:00","created_by":"daemon"}]}
{"id":"gitx-kbcy","title":"[FEATURE] Transport: Complete shallow clone implementation","description":"Complete the skeleton shallow clone implementation with depth limiting.\n\n## Requirements\n- Implement depth limiting for clone operations (--depth flag)\n- Handle shallow commits and grafts\n- Support deepen/unshallow operations\n- Properly track shallow boundaries\n- Update fetch to respect shallow constraints\n\n## Implementation Notes\n- Complete existing skeleton implementation in transport code\n- Add depth parameter to clone and fetch operations\n- Implement shallow file management (.git/shallow)\n- Handle 'shallow' and 'unshallow' protocol messages\n- Test with various depth values and repository structures","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-06T13:09:29.750899-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T20:28:45.952962-06:00","closed_at":"2026-01-06T20:28:45.952962-06:00","close_reason":"Closed"}
{"id":"gitx-kks","title":"GREEN: Implement pack index","description":"Implement pack index to pass tests.\n\n## Implementation\n- Version 2 format (4-byte offsets, CRC32)\n- Fanout table (256 entries)\n- Sorted SHA list\n- Offset table\n- Large offset table for \u003e2GB packs","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:47:53.104901-06:00","updated_at":"2026-01-05T08:48:07.210448-06:00","closed_at":"2026-01-05T08:48:07.210448-06:00","close_reason":"Tests passing (82, 36, 95, 49 tests respectively)","dependencies":[{"issue_id":"gitx-kks","depends_on_id":"gitx-9pe","type":"blocks","created_at":"2026-01-04T17:49:13.160427-06:00","created_by":"daemon"}]}
{"id":"gitx-l76","title":"Create README.md documentation","description":"Create comprehensive README with installation, usage examples, and API docs.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T03:49:12.363802-06:00","updated_at":"2026-01-05T04:09:28.820581-06:00","closed_at":"2026-01-05T04:09:28.820581-06:00","close_reason":"Closed"}
{"id":"gitx-ld6","title":"Epic: Ref Management","description":"Branch, tag, and HEAD management.\n\n## Scope\n- Symbolic refs (HEAD)\n- Branch operations (create, delete, rename)\n- Tag operations\n- Ref transactions (atomic updates)\n- Reflog\n\n## Success Criteria\n- All ref operations atomic\n- Symbolic ref resolution\n- 100% test coverage","status":"closed","priority":0,"issue_type":"epic","created_at":"2026-01-04T17:47:54.071764-06:00","updated_at":"2026-01-05T08:52:59.504233-06:00","closed_at":"2026-01-05T08:52:59.504233-06:00","close_reason":"Core functionality complete - all RED/GREEN tasks done, only optional REFACTOR tasks remain"}
{"id":"gitx-liy","title":"RED: pkt-line encoding/decoding tests","description":"Write failing tests for pkt-line format.\n\n## Tests\n- Encode line with 4-char hex length prefix\n- Encode flush packet (0000)\n- Encode delimiter packet (0001)\n- Decode single pkt-line\n- Decode stream of pkt-lines\n- Handle special packets correctly\n- Side-band demultiplexing\n\n## Files\n- src/wire/pkt-line.ts (stubs)\n- test/wire/pkt-line.test.ts (failing)","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:47:48.770512-06:00","updated_at":"2026-01-04T18:05:58.186363-06:00","closed_at":"2026-01-04T18:05:58.186363-06:00","close_reason":"RED tests written - all tests failing as expected"}
{"id":"gitx-lpmy","title":"[FEATURE] Transport: Bundle URI support","description":"Implement protocol v2 bundle URI support for optimized cloning.\n\n## Requirements\n- Support bundle-uri capability in protocol v2\n- Fetch bundle lists from advertised URIs\n- Download and apply bundles before incremental fetch\n- Support bundle list filtering (creationToken)\n- Handle multiple bundle sources and prioritization\n- Verify bundle integrity\n\n## Implementation Notes\n- Add bundle-uri capability negotiation\n- Implement bundle list fetching and parsing (JSON format)\n- Download bundles via HTTP(S)\n- Apply bundles to repository before fetch\n- Implement incremental fetch for remaining objects\n- Support bundle list v2 format specification\n- Test with CDN-hosted bundles for large repositories\n- Significant performance improvement for large clones","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-06T13:09:40.493062-06:00","created_by":"nathanclevenger","updated_at":"2026-01-07T02:50:05.933964-06:00","closed_at":"2026-01-07T02:50:05.933964-06:00","close_reason":"Closed"}
{"id":"gitx-lqk","title":"GREEN: Implement core git object types","description":"Implement types to pass all tests.\n\n## Implementation\n- Define all type interfaces\n- Implement type guards\n- Implement serialize/deserialize for each type\n- Match exact git format (space-separated, null-terminated)\n\n## Acceptance\n- All RED tests pass\n- Types are correctly inferred by TypeScript","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:47:41.20339-06:00","updated_at":"2026-01-04T18:15:46.727292-06:00","closed_at":"2026-01-04T18:15:46.727292-06:00","close_reason":"Closed","dependencies":[{"issue_id":"gitx-lqk","depends_on_id":"gitx-15e","type":"blocks","created_at":"2026-01-04T17:49:09.712187-06:00","created_by":"daemon"}]}
{"id":"gitx-lvep","title":"RED: Delta compression tests","description":"Write failing tests for delta encoding/decoding.\n\nTest categories:\n- Apply OFS_DELTA to base object\n- Apply REF_DELTA to base object\n- Delta instruction parsing (copy, insert)\n- Chained deltas (delta of delta)\n- Delta size limits\n- Create delta from two objects\n- Delta efficiency metrics","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-10T12:46:53.561406-06:00","created_by":"nathanclevenger","updated_at":"2026-01-10T12:46:53.561406-06:00","labels":["delta","red","tdd"]}
{"id":"gitx-lxde","title":"[FEATURE] Transport: SSH protocol support","description":"Implement SSH transport (git+ssh://) for gitx wire protocol.\n\n## Requirements\n- Support git+ssh:// URL scheme\n- SSH connection management and authentication\n- Handle SSH key-based authentication\n- Support for custom SSH ports\n- Error handling for SSH connection failures\n\n## Implementation Notes\n- Add SSH transport implementation alongside existing HTTP transport\n- Integrate with system SSH agent or key files\n- May need to use ssh2 or similar Node.js SSH library\n- Update protocol negotiation to work over SSH streams\n- Test with common Git hosting providers (GitHub, GitLab, Bitbucket)","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-06T13:09:25.902813-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T17:10:32.888648-06:00","closed_at":"2026-01-06T17:10:32.888648-06:00","close_reason":"Closed"}
{"id":"gitx-lxk","title":"RED: gitx commit command","description":"Write failing tests for commit command.\n\n## Tests to Write\n- Creates commit with -m message\n- Opens editor for commit message without -m\n- Validates commit message format\n- Shows staged files before commit\n- Handles empty commit (nothing staged)\n- Supports --amend flag","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T05:46:50.554162-06:00","updated_at":"2026-01-05T07:06:20.387217-06:00","closed_at":"2026-01-05T07:06:20.387217-06:00","close_reason":"GREEN phase complete - all tests pass","dependencies":[{"issue_id":"gitx-lxk","depends_on_id":"gitx-7vz","type":"blocks","created_at":"2026-01-05T06:12:44.21149-06:00","created_by":"daemon"},{"issue_id":"gitx-lxk","depends_on_id":"gitx-ani","type":"blocks","created_at":"2026-01-05T06:12:44.509925-06:00","created_by":"daemon"}]}
{"id":"gitx-m1q","title":"[REFACTOR] Split mcp/tools.ts into individual tool files","description":"## Context\n`src/mcp/tools.ts` is 2300+ lines containing 18 tool definitions.\nThis violates single responsibility and makes the file hard to maintain.\n\n## REFACTOR Phase\nCreate new structure:\n```\nsrc/mcp/\n├── tools/\n│   ├── index.ts           # Registry + re-exports\n│   ├── git-status.ts      # git_status tool\n│   ├── git-log.ts         # git_log tool\n│   ├── git-diff.ts        # git_diff tool\n│   ├── git-commit.ts      # git_commit tool\n│   ├── git-branch.ts      # git_branch tool\n│   ├── git-checkout.ts    # git_checkout tool\n│   ├── git-push.ts        # git_push tool\n│   ├── git-pull.ts        # git_pull tool\n│   ├── git-clone.ts       # git_clone tool\n│   ├── git-init.ts        # git_init tool\n│   ├── git-add.ts         # git_add tool\n│   ├── git-reset.ts       # git_reset tool\n│   ├── git-merge.ts       # git_merge tool\n│   ├── git-rebase.ts      # git_rebase tool\n│   ├── git-stash.ts       # git_stash tool\n│   ├── git-tag.ts         # git_tag tool\n│   ├── git-remote.ts      # git_remote tool\n│   ├── git-fetch.ts       # git_fetch tool\n│   └── do.ts              # do tool (existing)\n├── tools.ts               # DEPRECATED: Re-export from tools/index.ts\n└── adapter.ts\n```\n\n## Acceptance Criteria\n- [ ] Each tool in its own file\n- [ ] All existing tests pass\n- [ ] Public API unchanged (exports from tools.ts still work)\n- [ ] No behavior change","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T08:39:42.442261-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T16:41:15.017372-06:00","closed_at":"2026-01-06T16:41:15.017372-06:00","close_reason":"Closed"}
{"id":"gitx-m703","title":"[RED] MCP: git_rev_list tool","description":"Write failing tests for git_rev_list MCP tool.\n\n## Required Functionality\n- List commits in reverse chronological order\n- Support commit range filtering\n- Filter by author, date, message\n- Limit result count\n- Support path filtering\n\n## Input Schema\n- revision_range: string (range or single ref, required)\n- max_count: number (limit results)\n- skip: number (skip commits)\n- since: string (date/time filter)\n- until: string (date/time filter)\n- author: string (filter by author)\n- grep: string (filter by message)\n- paths: array of strings (file filters)\n\nBlocks: GREEN implementation","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-06T13:09:37.126176-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T20:52:01.154707-06:00","closed_at":"2026-01-06T20:52:01.154707-06:00","close_reason":"Closed"}
{"id":"gitx-mdb","title":"[RED] CLI: gitx stash command","description":"Write failing tests for gitx stash CLI command.\n\n## Tests\n- Test basic functionality\n- Test flags and options\n- Test error handling\n\nBlocks: GREEN implementation","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-06T13:09:03.407165-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T13:27:13.405007-06:00","closed_at":"2026-01-06T13:27:13.405007-06:00","close_reason":"Closed"}
{"id":"gitx-meq","title":"GREEN: Implement WorkerLoader interface","description":"TDD Green phase: Implement WorkerLoader interface to make tests pass. Implement: 1) WorkerLoader, WorkerStub, WorkerCode interfaces in src/types/ 2) MockWorkerLoader for testing 3) isRealWorkerLoader() check function","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T11:02:51.724043-06:00","updated_at":"2026-01-05T11:43:26.945649-06:00","closed_at":"2026-01-05T11:43:26.945649-06:00","close_reason":"GREEN phase implemented - all tests passing"}
{"id":"gitx-mhn","title":"[REFACTOR] Clean up post-receive hook","description":"Production-ready post-receive hook refactoring:\n- Add webhook support (HTTP POST)\n- Support async/background hooks\n- Add event queuing for reliability\n- Implement retry logic\n- Tests must continue passing","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T12:39:24.932036-06:00","created_by":"nathanclevenger","updated_at":"2026-01-07T12:39:24.932036-06:00","dependencies":[{"issue_id":"gitx-mhn","depends_on_id":"gitx-91z","type":"blocks","created_at":"2026-01-07T12:39:36.934469-06:00","created_by":"nathanclevenger"}]}
{"id":"gitx-mqm","title":"Fix pending writes in tier migration","description":"Pending writes are resolved but data is never actually written. Fix to apply pending data before resolving promises.","status":"closed","priority":0,"issue_type":"bug","created_at":"2026-01-05T03:49:25.448449-06:00","updated_at":"2026-01-05T04:09:28.951862-06:00","closed_at":"2026-01-05T04:09:28.951862-06:00","close_reason":"Closed"}
{"id":"gitx-msx","title":"[REFACTOR] Consolidate interface definitions across modules","description":"## Context\nMultiple similar interfaces defined in different modules:\n- `ObjectStore` in types/storage.ts vs ops/tree-diff.ts\n- `RefStore` in ops/branch.ts vs refs/storage.ts\n- `ValidationResult` patterns duplicated\n\n## REFACTOR Phase\n\n### 1. Create central interfaces file\n```typescript\n// src/types/interfaces.ts\nexport interface ObjectStore { ... }\nexport interface RefStore { ... }\nexport interface ValidationResult\u003cT = void\u003e {\n  isValid: boolean\n  error?: string\n  value?: T\n}\n```\n\n### 2. Update all imports\n- Search for local interface definitions\n- Replace with imports from types/interfaces.ts\n- Remove duplicate definitions\n\n### 3. Document interface contracts\n- Add JSDoc explaining each interface's purpose\n- Add @see references between related interfaces\n\n## Files to check\n- src/types/storage.ts\n- src/ops/tree-diff.ts\n- src/ops/branch.ts\n- src/refs/storage.ts\n- src/mcp/tools.ts\n\n## Acceptance Criteria\n- [ ] Single source of truth for each interface\n- [ ] All modules import from types/\n- [ ] No duplicate interface definitions\n- [ ] All existing tests pass","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-06T08:42:12.794933-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T20:52:01.184636-06:00","closed_at":"2026-01-06T20:52:01.184636-06:00","close_reason":"Closed"}
{"id":"gitx-my9o","title":"Implement push() to write to R2 object store","description":"Implement the $.git.push() method that writes git objects to the R2 global object store for sharing across DOs.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-08T18:38:47.306084-06:00","updated_at":"2026-01-08T20:24:02.909829-06:00","closed_at":"2026-01-08T20:24:02.909829-06:00","close_reason":"Implemented push() to write git objects (blobs, trees, commits) to R2 object store. Enhanced commit() to create proper git objects and track them as pending for push. Added comprehensive tests to verify objects are stored using git's standard path format.","dependencies":[{"issue_id":"gitx-my9o","depends_on_id":"gitx-nnfj","type":"parent-child","created_at":"2026-01-08T18:39:05.191375-06:00","created_by":"daemon"}]}
{"id":"gitx-mz84","title":"REFACTOR: Consolidate do/ and durable-object/","description":"Clean up DO integration:\n- Merge src/do/ and src/durable-object/ (duplicate directories)\n- Remove any duplicated code\n- Follow fsx pattern of single do/ directory","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-10T12:47:33.43567-06:00","created_by":"nathanclevenger","updated_at":"2026-01-10T12:47:33.43567-06:00","labels":["cleanup","refactor","tdd"]}
{"id":"gitx-n2l","title":"RED: gitx review command (PR-style diff)","description":"Write failing tests for review command.\n\n## Tests to Write\n- Shows diff between two branches (main..feature)\n- Interactive file navigation\n- Collapse/expand file diffs\n- Summary of changes (files changed, insertions, deletions)\n- Keyboard shortcuts for navigation","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T05:46:53.189-06:00","updated_at":"2026-01-05T07:06:20.389249-06:00","closed_at":"2026-01-05T07:06:20.389249-06:00","close_reason":"GREEN phase complete - all tests pass","dependencies":[{"issue_id":"gitx-n2l","depends_on_id":"gitx-vve","type":"blocks","created_at":"2026-01-05T06:12:45.70269-06:00","created_by":"daemon"},{"issue_id":"gitx-n2l","depends_on_id":"gitx-2sf","type":"blocks","created_at":"2026-01-05T06:12:45.974782-06:00","created_by":"daemon"}]}
{"id":"gitx-nah8","title":"GREEN: Implement GitBackend interface","description":"Create the GitBackend interface in core/backend.ts:\n\n```typescript\ninterface GitBackend {\n  readObject(sha: string): Promise\u003cGitObject\u003e\n  writeObject(obj: GitObject): Promise\u003cstring\u003e\n  hasObject(sha: string): Promise\u003cboolean\u003e\n  readRef(name: string): Promise\u003cstring | null\u003e\n  writeRef(name: string, sha: string): Promise\u003cvoid\u003e\n  deleteRef(name: string): Promise\u003cvoid\u003e\n  listRefs(prefix?: string): Promise\u003cRef[]\u003e\n}\n```\n\nCreate MemoryGitBackend for testing.\nMake tests from gitx-jem1 pass.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-10T12:47:31.937112-06:00","created_by":"nathanclevenger","updated_at":"2026-01-10T12:47:31.937112-06:00","labels":["green","interface","tdd"],"dependencies":[{"issue_id":"gitx-nah8","depends_on_id":"gitx-jem1","type":"blocks","created_at":"2026-01-10T12:47:31.938317-06:00","created_by":"nathanclevenger"}]}
{"id":"gitx-ncl","title":"[REFACTOR] Clean up GitRepoDO implementation","description":"Production-ready GitRepoDO refactoring:\n- Extract route handlers to separate files\n- Add proper TypeScript generics for Env\n- Implement proper error handling\n- Add logging infrastructure\n- Ensure all tests continue passing","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T12:33:53.61741-06:00","created_by":"nathanclevenger","updated_at":"2026-01-07T12:33:53.61741-06:00","dependencies":[{"issue_id":"gitx-ncl","depends_on_id":"gitx-9wz","type":"blocks","created_at":"2026-01-07T12:34:09.235244-06:00","created_by":"nathanclevenger"}]}
{"id":"gitx-ndk","title":"FIX: MCP sandbox security - eval exposure","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-05T09:42:31.480113-06:00","updated_at":"2026-01-05T09:51:48.757738-06:00","closed_at":"2026-01-05T09:51:48.757738-06:00","close_reason":"Closed"}
{"id":"gitx-nnfj","title":"DO Integration Module","description":"Create GitModule class that integrates with dotdo's $ WorkflowContext, providing $.git.sync(), $.git.push(), $.git.binding. The module depends on FsModule for file operations and uses R2 as the global git object store.","design":"## DO Integration Module Architecture\n\n### Overview\nThe DO Integration Module provides capability modules (GitModule, BashModule) that integrate with dotdo's $ WorkflowContext pattern, enabling git and bash operations within Durable Objects.\n\n### Module Structure\n```\nsrc/do/\n├── index.ts          # Entry point - exports all modules\n├── GitModule.ts      # Git operations (sync, push, commit, add, status)\n├── BashModule.ts     # Bash execution (exec, run, spawn)\n├── bash-ast.ts       # AST parser for bash safety analysis\n├── withGit.ts        # Mixin for DO composition\n└── withBash.ts       # Mixin for DO composition\n```\n\n### GitModule Features\n- **sync()**: Fetch git objects from R2 global store to local fs\n- **push()**: Write local changes to R2 for cross-DO sync\n- **commit()**: Create commit objects with tree/blob generation\n- **add()**: Stage files for commit\n- **status()**: Get branch, HEAD, staged/unstaged files\n- **binding**: Access repo/branch/commit/lastSync config\n\n### BashModule Features\n- **exec()**: Execute commands with args and options\n- **run()**: Execute shell scripts\n- **spawn()**: Stream execution with callbacks\n- **analyze()**: AST-based safety classification\n- **block()/unblock()**: Manage blocked commands\n\n### Database Schema (durable-object/schema.ts)\n- **git**: Repository bindings (repo, branch, commit, last_sync)\n- **git_branches**: Branch tracking (name, head, upstream, ahead/behind)\n- **git_content**: Staged files (path, content, mode, status)\n- **exec**: Execution policies (blocked_commands, require_confirmation, timeout)\n\n### Mixin Pattern\n```typescript\n// Compose capabilities into DO classes\nclass MyDO extends withBash(withGit(DO, { repo: 'org/repo' }), { cwd: '/app' }) {\n  async deploy() {\n    await this.git.sync()\n    await this.bash.exec('npm', ['run', 'build'])\n    await this.git.add('dist/')\n    await this.git.commit('Build')\n    await this.git.push()\n  }\n}\n```\n\n### Package Export\n```json\n\"./do\": {\n  \"types\": \"./dist/do/index.d.ts\",\n  \"import\": \"./dist/do/index.js\"\n}\n```","notes":"## Implementation Status\n\n### Completed Components\n1. **GitModule** (1184 lines) - Full implementation with:\n   - R2 object store integration\n   - FsCapability dependency  \n   - Database persistence\n   - Git object creation (blobs, trees, commits)\n\n2. **BashModule** (1316 lines) - Full implementation with:\n   - AST-based safety analysis\n   - Configurable policies\n   - Database persistence\n\n3. **bash-ast.ts** (1106 lines) - Bash parser with:\n   - Full tokenizer\n   - AST node types (command, pipeline, list, subshell)\n   - Safety issue detection\n\n4. **withGit mixin** (406 lines) - Full implementation with:\n   - Lazy initialization\n   - Context mode ($.git)\n   - Capability introspection\n\n5. **withBash mixin** (397 lines) - Full implementation with:\n   - Factory functions\n   - Lazy initialization\n\n6. **Schema** - Complete tables in durable-object/schema.ts:\n   - git, git_branches, git_content, exec\n\n### Test Coverage\n- test/do/GitModule.test.ts\n- test/do/GitModule-storage.test.ts (876 lines)\n- test/do/BashModule.test.ts\n- test/do/bash-ast.test.ts  \n- test/do/withGit.test.ts\n- test/do/withBash.test.ts\n- test/do/mixins.test.ts\n\n### All Subtasks Completed\n- [x] Export GitModule from gitx/do (gitx-0qzp)\n- [x] Implement GitModule with FsModule dependency (gitx-bhxf)\n- [x] Implement sync() (gitx-438y)\n- [x] Implement push() (gitx-my9o)\n- [x] Add git binding property (gitx-jyey)\n- [x] Create withGit mixin (gitx-0qbp)\n- [x] Integrate with database tables (gitx-6sdk)\n- [x] Write tests (gitx-ov0o)\n- [x] Update package.json exports (gitx-oy2w)","status":"closed","priority":0,"issue_type":"epic","created_at":"2026-01-08T18:38:31.5074-06:00","updated_at":"2026-01-09T00:58:43.932849-06:00","closed_at":"2026-01-09T00:58:43.932849-06:00","close_reason":"DO Integration Module complete. All components implemented: GitModule (sync/push/commit/add/status), BashModule (exec/run/spawn with AST safety), withGit/withBash mixins, database schema integration, comprehensive test coverage. Package exports configured."}
{"id":"gitx-nro","title":"RED: Miniflare fallback evaluator","description":"TDD Red phase: Write failing tests for Miniflare-based evaluator as fallback when worker_loaders unavailable. Tests should verify: 1) evaluateWithMiniflare() function 2) Same interface as worker evaluator 3) Network isolation 4) Memory/CPU limits 5) Timeout enforcement","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T11:02:12.820769-06:00","updated_at":"2026-01-05T11:12:44.543652-06:00","closed_at":"2026-01-05T11:12:44.543652-06:00","close_reason":"RED phase complete - failing tests created"}
{"id":"gitx-nrp","title":"RED: Tree building from index tests","description":"Write failing tests for tree building.\n\n## Tests\n- Build tree from flat file list\n- Nested directories create subtrees\n- Mode preserved (100644, 100755, 040000)\n- Empty directories not created\n- Tree sha is deterministic\n\n## Files\n- src/operations/tree-builder.ts (stubs)\n- test/operations/tree-builder.test.ts (failing)","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:47:55.16874-06:00","updated_at":"2026-01-04T18:31:11.517009-06:00","closed_at":"2026-01-04T18:31:11.517009-06:00","close_reason":"Closed"}
{"id":"gitx-nse","title":"[TDD] MCP Migration - Refactor Phase","description":"Production-ready MCP migration refactoring:\n- Optimize search() for commit history\n- Add packfile caching\n- Implement delta compression in fetch()\n- Add branch/tag resolution optimization\n- Performance testing\n- Documentation for migrated API\n\nTests must continue passing.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T12:12:29.627353-06:00","updated_at":"2026-01-06T16:51:47.50861-06:00","closed_at":"2026-01-06T16:51:47.50861-06:00","close_reason":"Closed","dependencies":[{"issue_id":"gitx-nse","depends_on_id":"gitx-box","type":"blocks","created_at":"2026-01-06T12:13:12.954303-06:00","created_by":"nathanclevenger"}]}
{"id":"gitx-nyb","title":"[GREEN] git_status: Implement tree-from-index for staging area comparison","description":"## Context\nMake git_status tests pass by implementing proper staging area comparison.\n\n## GREEN Phase\n\n### Implementation\n```typescript\nasync function getStatus(context: RepositoryContext): Promise\u003cStatusResult\u003e {\n  const head = await context.refStore.getRef('HEAD')\n  const headTree = head ? await getTreeAtCommit(context.objectStore, head) : null\n  \n  // Build tree from index\n  const indexTree = buildTreeFromIndex(context.index)\n  \n  // Compare HEAD tree vs index tree = staged changes\n  const staged = await diffTrees(context.objectStore, headTree, indexTree)\n  \n  // Compare index tree vs working tree = unstaged changes  \n  const unstaged = await diffTrees(context.objectStore, indexTree, context.workingTree)\n  \n  // Find untracked files\n  const untracked = await findUntrackedFiles(context.workingTree, context.index)\n  \n  return { staged, unstaged, untracked }\n}\n```\n\n### Key function: buildTreeFromIndex\n```typescript\nfunction buildTreeFromIndex(index: Index): TreeNode {\n  // Convert flat index entries to nested tree structure\n  // Group by directory path\n  // Create tree nodes recursively\n}\n```\n\n## Acceptance Criteria\n- [ ] All status tests pass\n- [ ] Properly distinguishes staged/unstaged/untracked\n- [ ] Works with nested directories","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-06T08:41:32.162958-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T14:16:19.799253-06:00","closed_at":"2026-01-06T14:16:19.799253-06:00","close_reason":"Closed","dependencies":[{"issue_id":"gitx-nyb","depends_on_id":"gitx-07n","type":"blocks","created_at":"2026-01-06T08:42:06.328843-06:00","created_by":"nathanclevenger"}]}
{"id":"gitx-nz4y","title":"Integrate with exec table for safety settings","description":"Integrate BashModule with the exec table schema to persist and retrieve safety settings and execution policies.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-08T18:38:47.211753-06:00","created_by":"nathanclevenger","updated_at":"2026-01-08T20:25:26.364606-06:00","closed_at":"2026-01-08T20:25:26.364606-06:00","close_reason":"Integrated BashModule with exec table schema for persisting and retrieving safety settings and execution policies. Added exec table to schema with columns for blocked_commands, require_confirmation, default_timeout, default_cwd, allowed_patterns, denied_patterns, max_concurrent, and enabled. Updated BashModule with storage integration, including initialize(), getPolicy(), updatePolicy(), isEnabled(), and hasStorage() methods. Block/unblock now persist changes to database. Added comprehensive tests for both schema and storage integration."}
{"id":"gitx-o2a","title":"[GREEN] Implement HEAD reference management","description":"Implement minimal code to pass HEAD management tests:\n- Store HEAD as symbolic or direct ref\n- Implement resolveRef with recursion\n- Handle detached HEAD state\n- Implement ref locking\n\nFocus on making tests pass.","notes":"GREEN complete - HEAD reference management implemented and all 108 tests passing","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-07T12:36:59.79895-06:00","created_by":"nathanclevenger","updated_at":"2026-01-10T11:45:53.381738-06:00","closed_at":"2026-01-10T11:45:53.381746-06:00","dependencies":[{"issue_id":"gitx-o2a","depends_on_id":"gitx-0kg","type":"blocks","created_at":"2026-01-07T12:37:12.180595-06:00","created_by":"nathanclevenger"}]}
{"id":"gitx-oh4","title":"[RED] CLI: gitx rebase command","description":"Write failing tests for gitx rebase CLI command.\n\n## Tests\n- Test basic functionality\n- Test flags and options\n- Test error handling\n\nBlocks: GREEN implementation","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-06T13:09:12.202449-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T21:07:19.641677-06:00","closed_at":"2026-01-06T21:07:19.641677-06:00","close_reason":"Closed"}
{"id":"gitx-omr","title":"[GREEN] Implement commit object storage","description":"Implement minimal code to pass commit storage tests:\n- Implement putCommitObject with proper formatting\n- Implement getCommitObject with field parsing\n- Handle parent array correctly\n- Parse author/committer lines\n\nFocus on making tests pass.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-07T12:35:20.598643-06:00","created_by":"nathanclevenger","updated_at":"2026-01-09T05:44:22.824877-06:00","closed_at":"2026-01-09T05:44:22.824877-06:00","close_reason":"All 51 commit object storage tests pass. Implementation includes:\\n- putCommitObject with proper formatting (tree, parents, author, committer, message)\\n- getCommitObject with field parsing including parent array handling\\n- Author/committer line parsing with timestamp and timezone\\n- Error handling for malformed commits","dependencies":[{"issue_id":"gitx-omr","depends_on_id":"gitx-e5v","type":"blocks","created_at":"2026-01-07T12:35:35.219953-06:00","created_by":"nathanclevenger"}]}
{"id":"gitx-ov0o","title":"Write tests for GitModule integration with DO","description":"Write comprehensive tests for GitModule integration with dotdo DOs, covering sync, push, and binding functionality.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-08T18:38:47.589273-06:00","updated_at":"2026-01-09T01:00:10.254775-06:00","closed_at":"2026-01-09T01:00:10.254775-06:00","close_reason":"Closed","dependencies":[{"issue_id":"gitx-ov0o","depends_on_id":"gitx-nnfj","type":"parent-child","created_at":"2026-01-08T18:39:05.454241-06:00","created_by":"daemon"}]}
{"id":"gitx-ov2","title":"GREEN: Implement three-way merge","description":"Implement merge to pass tests.\n\n## Implementation\n- Get base, ours, theirs trees\n- Compare each entry\n- Text merge for modified files\n- Return merged tree + conflicts","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:48:07.481934-06:00","updated_at":"2026-01-05T08:50:04.263484-06:00","closed_at":"2026-01-05T08:50:04.263484-06:00","close_reason":"Tests passing - all related test files pass","dependencies":[{"issue_id":"gitx-ov2","depends_on_id":"gitx-ijr","type":"blocks","created_at":"2026-01-04T17:49:21.292855-06:00","created_by":"daemon"}]}
{"id":"gitx-ovj","title":"[RED] CLI: gitx checkout command","description":"Write failing tests for gitx checkout CLI command.\n\n## Tests\n- Test basic functionality\n- Test flags and options\n- Test error handling\n\nBlocks: GREEN implementation","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-06T13:08:59.283787-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T14:12:29.120583-06:00","closed_at":"2026-01-06T14:12:29.120583-06:00","close_reason":"Closed"}
{"id":"gitx-oy2w","title":"Update package.json exports for gitx/do entry point","description":"Update package.json to add the gitx/do export path that exposes the GitModule and withGit mixin.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-08T18:38:47.751146-06:00","updated_at":"2026-01-09T00:58:08.675904-06:00","closed_at":"2026-01-09T00:58:08.675904-06:00","close_reason":"Package.json already has the ./do export configured at lines 16-19 with proper types and import paths","dependencies":[{"issue_id":"gitx-oy2w","depends_on_id":"gitx-nnfj","type":"parent-child","created_at":"2026-01-08T18:39:05.58536-06:00","created_by":"daemon"}]}
{"id":"gitx-p9f7","title":"[RED] MCP: git_cat_file tool","description":"Write failing tests for git_cat_file MCP tool.\n\n## Required Functionality\n- Output content of git objects (blobs, trees, commits, tags)\n- Display object type and size\n- Support pretty-printing for non-blob objects\n- Handle SHA references\n\n## Input Schema\n- object: string (SHA/ref, required)\n- type: enum (blob, tree, commit, tag, auto)\n- pretty_print: boolean (format output)\n- show_size: boolean\n- show_type: boolean\n\nBlocks: GREEN implementation","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-06T13:09:24.509648-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T13:18:27.96082-06:00","closed_at":"2026-01-06T13:18:27.96082-06:00","close_reason":"RED phase complete - failing tests for git_cat_file MCP tool"}
{"id":"gitx-p9mn","title":"Implement exec() with AST safety analysis","description":"Implement the exec() method that performs AST-based safety analysis on commands before execution, using the existing bashx parser and safety classification system.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-08T18:38:47.444138-06:00","created_by":"nathanclevenger","updated_at":"2026-01-08T20:39:01.463542-06:00","closed_at":"2026-01-08T20:39:01.463542-06:00","close_reason":"Implemented AST-based safety analysis for bash commands. Created a comprehensive bash command parser (bash-ast.ts) that parses commands into an AST with support for pipelines, command lists, redirections, quotes, and variable expansion. The safety analyzer inspects AST nodes for dangerous commands, patterns (rm -rf /, dd to device, curl|bash, fork bombs, chmod 777), and blocked commands. Updated BashModule.analyze() to use AST-based analysis by default, with fallback to regex patterns. Added 45 tests for the parser and analyzer."}
{"id":"gitx-pe1","title":"[RED] Test tag reference management","description":"Write failing tests for tag reference management:\n- Test createTag creates refs/tags/{name}\n- Test annotated vs lightweight tags\n- Test listTags returns all tags\n- Test deleteTag removes ref\n- Test tag name validation\n- Test tag peeling (resolve to commit)\n\nAll tests should FAIL initially (Red phase).","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-07T12:36:36.35735-06:00","created_by":"nathanclevenger","updated_at":"2026-01-09T07:01:53.129013-06:00","closed_at":"2026-01-09T07:01:53.129013-06:00","close_reason":"RED tests for tag reference management already exist and are comprehensive. All 102 tests pass. Tests cover: createTag with refs/tags/ prefix, lightweight and annotated tags, listTags, deleteTag, tag name validation, and tag peeling/resolution. Implementation was already completed in src/refs/tag.ts."}
{"id":"gitx-pqv","title":"RED: Full packfile generation tests","description":"Write failing tests for pack generation.\n\n## Tests\n- Generate pack from object list\n- Sort objects for delta efficiency\n- Choose optimal delta bases\n- Thin pack generation (client has some objects)\n- Pack size within expected bounds\n- git unpack-objects can read output\n\n## Files\n- src/pack/generator.ts (stubs)\n- test/pack/generator.test.ts (failing)","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:47:54.648078-06:00","updated_at":"2026-01-04T18:47:00.189342-06:00","closed_at":"2026-01-04T18:47:00.189342-06:00","close_reason":"Closed"}
{"id":"gitx-ptlr","title":"[GREEN] Implement git_status index-to-tree comparison","description":"The git_status MCP tool has a TODO for building tree from index entries for proper staging area comparison. This causes 26 tests to fail in test/mcp/tools/git-status.test.ts.\n\nCurrently fixed:\n- Added explicit isError: false to success return (fixed ~16 tests)\n\nRemaining features needed:\n- Build tree from index entries\n- Compare index to HEAD for staged changes\n- Compare workdir to index for unstaged changes  \n- Detect untracked files\n- Handle merge conflicts (stage \u003e 0)\n- Short format output (XY codes)\n- Ignore pattern handling","notes":"Implemented index-to-HEAD comparison using flattenTree and compareIndexToHead helper functions.\n\nChanges made:\n1. Added flattenTree() - recursively flattens tree into path-\u003eentry map\n2. Added compareIndexToHead() - compares index entries to HEAD tree with:\n   - Added file detection\n   - Modified file detection  \n   - Deleted file detection\n   - Mode change detection\n   - Rename detection (via SHA matching)\n   - Merge conflict detection (stage \u003e 0)\n3. Updated git_status handler to use new comparison instead of diffTrees(null)\n4. Added workdir comparison for:\n   - Untracked files\n   - Unstaged modifications\n   - Unstaged deletions\n   - Unstaged mode changes\n5. Added proper formatting for short format output (XY codes)\n6. Added rename formatting with old-\u003enew path display\n\nAll 49 git_status tests now pass.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-09T08:08:14.594915-06:00","updated_at":"2026-01-09T08:13:29.266546-06:00","closed_at":"2026-01-09T08:13:29.266546-06:00","close_reason":"All 49 git_status tests pass after implementing index-to-HEAD comparison","labels":["GREEN","git-status","mcp"]}
{"id":"gitx-ptr0","title":"Write tests for FsModule integration with DO","description":"Write comprehensive tests for FsModule integration with dotdo Durable Objects, covering all filesystem operations and edge cases.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-08T18:38:48.63444-06:00","created_by":"nathanclevenger","updated_at":"2026-01-09T02:52:31.068131-06:00","closed_at":"2026-01-09T02:52:31.068131-06:00","close_reason":"Completed comprehensive FsModule integration tests covering DO context integration, lifecycle management, withFs mixin composition, error handling, and multi-module integration scenarios."}
{"id":"gitx-puy","title":"RED: SHA hashing utility tests","description":"Write failing tests for SHA hashing.\n\n## Tests\n- sha1(data) returns 40-char hex string\n- sha256(data) returns 64-char hex string  \n- hashObject(type, data) prefixes with header\n- Matches git hash-object output exactly\n- Works with Uint8Array and string input\n\n## Files\n- src/utils/hash.ts (stubs)\n- test/utils/hash.test.ts (failing)","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:47:43.842087-06:00","updated_at":"2026-01-04T18:05:58.180548-06:00","closed_at":"2026-01-04T18:05:58.180548-06:00","close_reason":"RED tests written - all tests failing as expected"}
{"id":"gitx-q67","title":"[GREEN] Implement update hook execution","description":"Implement minimal code to pass update hook tests:\n- Execute hook per ref update\n- Pass refname oldrev newrev as arguments\n- Handle per-ref rejection\n- Set hook environment\n\nFocus on making tests pass.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-07T12:39:42.688857-06:00","created_by":"nathanclevenger","updated_at":"2026-01-10T11:46:17.677498-06:00","closed_at":"2026-01-10T11:46:17.677498-06:00","close_reason":"Update hook implementation exists in src/wire/receive-pack.ts (lines 1683-1701). The executeUpdateHook function handles: per-ref execution with refname/oldrev/newrev args, per-ref rejection, and environment variables. All 3 related tests pass.","dependencies":[{"issue_id":"gitx-q67","depends_on_id":"gitx-4sc","type":"blocks","created_at":"2026-01-07T12:39:54.227501-06:00","created_by":"nathanclevenger"}]}
{"id":"gitx-q6gf","title":"Add RPC service mode for heavy git operations","description":"Support running gitx as a separate Worker via RPC binding to keep DO bundles small. Heavy operations like log, diff, pack generation should go through RPC.","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-08T19:15:25.312497-06:00","created_by":"nathanclevenger","updated_at":"2026-01-08T19:15:25.312497-06:00"}
{"id":"gitx-qjp","title":"RED: Capability negotiation tests","description":"Write failing tests for capabilities.\n\n## Tests\n- Parse client capabilities from first want\n- Advertise server capabilities\n- Capability intersection\n- Required vs optional capabilities\n- agent= capability handling\n\n## Files\n- src/wire/capabilities.ts (stubs)\n- test/wire/capabilities.test.ts (failing)","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:47:51.024183-06:00","updated_at":"2026-01-04T18:42:51.935759-06:00","closed_at":"2026-01-04T18:42:51.935759-06:00","close_reason":"Closed"}
{"id":"gitx-qlfs","title":"GREEN: Create core/ directory structure","description":"Create the @dotdo/gitx core package structure:\n\n```\ncore/\n├── index.ts           # Main exports\n├── package.json       # name: \"@dotdo/gitx\"\n├── types.ts           # Core types\n├── errors.ts          # Error classes\n├── backend.ts         # GitBackend interface\n├── objects/           # Git object model\n│   ├── blob.ts\n│   ├── tree.ts\n│   ├── commit.ts\n│   └── tag.ts\n├── pack/              # Pack file handling\n├── delta/             # Delta compression\n├── wire/              # Wire protocol\n├── refs/              # Reference parsing\n└── hash/              # SHA utilities\n```\n\nMake tests from gitx-7o3e pass.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-10T12:47:31.64585-06:00","created_by":"nathanclevenger","updated_at":"2026-01-10T12:47:31.64585-06:00","labels":["architecture","green","tdd"],"dependencies":[{"issue_id":"gitx-qlfs","depends_on_id":"gitx-7o3e","type":"blocks","created_at":"2026-01-10T12:47:31.647547-06:00","created_by":"nathanclevenger"}]}
{"id":"gitx-qlr","title":"[REFACTOR] Clean up tree storage","description":"Production-ready tree storage refactoring:\n- Optimize entry parsing\n- Add tree entry validation\n- Support recursive tree operations\n- Add batch tree operations\n- Tests must continue passing","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T12:35:03.485945-06:00","created_by":"nathanclevenger","updated_at":"2026-01-07T12:35:03.485945-06:00","dependencies":[{"issue_id":"gitx-qlr","depends_on_id":"gitx-2nw","type":"blocks","created_at":"2026-01-07T12:35:15.849973-06:00","created_by":"nathanclevenger"}]}
{"id":"gitx-qr7","title":"[RED] CLI: gitx reset command","description":"Write failing tests for gitx reset CLI command.\n\n## Tests\n- Test basic functionality\n- Test flags and options\n- Test error handling\n\nBlocks: GREEN implementation","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-06T13:09:00.302266-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T14:21:07.026527-06:00","closed_at":"2026-01-06T14:21:07.026527-06:00","close_reason":"Closed"}
{"id":"gitx-r29h","title":"RED: Git object model tests","description":"Write failing tests for git object parsing.\n\nTest categories:\n- Blob: parse raw content, compute SHA\n- Tree: parse tree entries, mode bits, paths\n- Commit: parse header, author, committer, message, parents\n- Tag: parse annotated tags, tagger, message\n- Object type detection from raw bytes\n- SHA computation for all object types\n- Object serialization (round-trip)","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-10T12:46:52.993979-06:00","created_by":"nathanclevenger","updated_at":"2026-01-10T12:46:52.993979-06:00","labels":["objects","red","tdd"]}
{"id":"gitx-r3i","title":"[RED] Test packfile format","description":"Write failing tests for packfile format:\n- Test pack header parsing (PACK, version, object count)\n- Test object type/size encoding (variable-length int)\n- Test delta encoding (OFS_DELTA, REF_DELTA)\n- Test pack index generation (fanout, SHA offsets, CRC)\n- Test pack checksum validation\n\nAll tests should FAIL initially (Red phase).","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-07T12:38:02.159506-06:00","created_by":"nathanclevenger","updated_at":"2026-01-07T12:38:02.159506-06:00"}
{"id":"gitx-rp1","title":"[RED] CLI: gitx revert command","description":"Write failing tests for gitx revert CLI command.\n\n## Tests\n- Test basic functionality\n- Test flags and options\n- Test error handling\n\nBlocks: GREEN implementation","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-06T13:09:14.377658-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T21:07:19.701066-06:00","closed_at":"2026-01-06T21:07:19.701066-06:00","close_reason":"Closed"}
{"id":"gitx-rqpy","title":"Integrate with shared files table schema (use integer rowid)","description":"Integrate FsModule with the shared files table schema, using integer rowid foreign keys for efficient storage and lookups.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-08T18:38:48.193004-06:00","created_by":"nathanclevenger","updated_at":"2026-01-09T02:18:31.110898-06:00","closed_at":"2026-01-09T02:18:31.110898-06:00","close_reason":"Implemented file_id foreign key integration for shared files table - added getFileId to FsModule, updated GitModule to use file_id references, and added comprehensive tests"}
{"id":"gitx-ru7h","title":"[RED] MCP: git_ls_tree tool","description":"Write failing tests for git_ls_tree MCP tool.\n\n## Required Functionality\n- List files and directories in tree object\n- Show file modes, types, SHAs, sizes\n- Support recursive listing\n- Filter by path\n- Include tree and blob information\n\n## Input Schema\n- tree_ish: string (SHA/ref, required)\n- path: string (optional path filter)\n- recursive: boolean\n- show_trees: boolean\n- show_size: boolean\n- name_only: boolean\n\nBlocks: GREEN implementation","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-06T13:09:25.903939-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T14:05:21.870093-06:00","closed_at":"2026-01-06T14:05:21.870093-06:00","close_reason":"completed"}
{"id":"gitx-sju","title":"RED: Sandbox evaluator with worker_loaders","description":"TDD Red phase: Write failing tests for sandbox evaluator using worker_loaders. Tests should verify: 1) createWorkerEvaluator() function 2) Code execution in isolated V8 context 3) globalOutbound: null blocks network 4) Timeout enforcement via Promise.race 5) Console capture for audit logs","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T11:02:06.305313-06:00","updated_at":"2026-01-05T12:06:09.067228-06:00","closed_at":"2026-01-05T12:06:09.067228-06:00","close_reason":"MCP do tool implemented - all 37 tests passing","dependencies":[{"issue_id":"gitx-sju","depends_on_id":"gitx-eo7","type":"blocks","created_at":"2026-01-05T11:03:38.634914-06:00","created_by":"nathanclevenger"}]}
{"id":"gitx-t2d","title":"RED: gitx log command","description":"Write failing tests for log command.\n\n## Tests to Write\n- Shows commit history\n- Supports --oneline format\n- Supports -n limit flag\n- Shows author and date\n- Supports --graph for branch visualization\n- Filters by path","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T05:46:46.792668-06:00","updated_at":"2026-01-05T06:40:17.360405-06:00","closed_at":"2026-01-05T06:40:17.360405-06:00","close_reason":"GREEN phase complete - all tests pass","dependencies":[{"issue_id":"gitx-t2d","depends_on_id":"gitx-7vz","type":"blocks","created_at":"2026-01-05T06:12:43.108635-06:00","created_by":"daemon"},{"issue_id":"gitx-t2d","depends_on_id":"gitx-ani","type":"blocks","created_at":"2026-01-05T06:12:43.398418-06:00","created_by":"daemon"}]}
{"id":"gitx-tk4","title":"[REFACTOR] Clean up branch management","description":"Production-ready branch management refactoring:\n- Add branch rename support\n- Add upstream tracking\n- Optimize branch listing for large repos\n- Add branch comparison operations\n- Tests must continue passing","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T12:36:21.213511-06:00","created_by":"nathanclevenger","updated_at":"2026-01-07T12:36:21.213511-06:00","dependencies":[{"issue_id":"gitx-tk4","depends_on_id":"gitx-gy4","type":"blocks","created_at":"2026-01-07T12:36:34.58055-06:00","created_by":"nathanclevenger"}]}
{"id":"gitx-tle","title":"[GREEN] Implement pre-receive hook execution","description":"Implement minimal code to pass pre-receive hook tests:\n- Execute hook with stdin ref updates\n- Parse hook exit code\n- Handle hook rejection\n- Set hook environment\n\nFocus on making tests pass.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-07T12:39:05.354104-06:00","created_by":"nathanclevenger","updated_at":"2026-01-10T11:46:17.420045-06:00","closed_at":"2026-01-10T11:46:17.420045-06:00","close_reason":"Pre-receive hook implementation exists in src/wire/receive-pack.ts (lines 1632-1655). The executePreReceiveHook function handles: stdin ref updates, hook exit code parsing, rejection handling, environment variables, and timeout. All 4 related tests pass.","dependencies":[{"issue_id":"gitx-tle","depends_on_id":"gitx-33n","type":"blocks","created_at":"2026-01-07T12:39:19.501607-06:00","created_by":"nathanclevenger"}]}
{"id":"gitx-tp2","title":"GREEN: Implement sandbox evaluator","description":"TDD Green phase: Implement sandbox evaluator using worker_loaders. Implement: 1) createWorkerEvaluator() in src/mcp/sandbox/ 2) Worker code generation 3) Timeout handling 4) Result parsing","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T11:02:58.038173-06:00","updated_at":"2026-01-05T11:43:26.947498-06:00","closed_at":"2026-01-05T11:43:26.947498-06:00","close_reason":"GREEN phase implemented - all tests passing"}
{"id":"gitx-u00t","title":"[RED] CLI: gitx reflog command","description":"Write failing tests for gitx reflog CLI command.\n\n## Tests\n- Test basic functionality\n- Test flags and options\n- Test error handling\n\nBlocks: GREEN implementation","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-06T13:09:19.247046-06:00","created_by":"nathanclevenger","updated_at":"2026-01-07T02:37:49.543775-06:00","closed_at":"2026-01-07T02:37:49.543775-06:00","close_reason":"Closed"}
{"id":"gitx-u35","title":"REFACTOR: SHA hashing performance optimization","description":"Optimize hashing for large files.\n\n## Tasks\n- Streaming hash for large objects\n- Benchmark performance\n- Consider caching strategies","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-04T17:47:47.192904-06:00","updated_at":"2026-01-05T09:16:44.496245-06:00","closed_at":"2026-01-05T09:16:44.496245-06:00","close_reason":"Performance optimizations implemented: Rabin rolling hash for delta encoding, LRU cache for object store, streaming SHA-1","dependencies":[{"issue_id":"gitx-u35","depends_on_id":"gitx-82c","type":"blocks","created_at":"2026-01-04T17:49:10.378844-06:00","created_by":"daemon"}]}
{"id":"gitx-ubq","title":"[RED] Test git-upload-pack protocol","description":"Write failing tests for git-upload-pack (fetch/clone):\n- Test want/have negotiation\n- Test packfile generation with requested objects\n- Test delta compression in packfiles\n- Test thin pack generation\n- Test capability negotiation (multi_ack, side-band-64k, etc.)\n- Test shallow clone support\n\nAll tests should FAIL initially (Red phase).","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-07T12:37:25.582786-06:00","created_by":"nathanclevenger","updated_at":"2026-01-07T12:37:25.582786-06:00"}
{"id":"gitx-ud8c","title":"REFACTOR: Documentation cleanup","description":"Add comprehensive documentation:\n- core/README.md for @dotdo/gitx\n- Update root README.md for gitx.do\n- JSDoc all public APIs\n- Create docs/index.mdx","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-10T12:47:34.051937-06:00","created_by":"nathanclevenger","updated_at":"2026-01-10T12:47:34.051937-06:00","labels":["docs","refactor","tdd"]}
{"id":"gitx-unu","title":"RED: Fix CLI shebang missing","description":"dist/cli/index.js missing #\\!/usr/bin/env node shebang - CLI won't execute","status":"closed","priority":0,"issue_type":"bug","created_at":"2026-01-05T13:38:17.865137-06:00","updated_at":"2026-01-05T13:40:45.048714-06:00","closed_at":"2026-01-05T13:40:45.048714-06:00","close_reason":"Closed"}
{"id":"gitx-uu19","title":"Create withFs mixin function for DO composition","description":"Create a withFs mixin function that can be composed with dotdo DO classes to add filesystem capabilities.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-08T18:38:47.976244-06:00","created_by":"nathanclevenger","updated_at":"2026-01-09T02:05:26.567615-06:00","closed_at":"2026-01-09T02:05:26.567615-06:00","close_reason":"Completed - withFs mixin function already fully implemented with comprehensive tests"}
{"id":"gitx-v7gy","title":"[RED] MCP: git_shortlog tool","description":"Write failing tests for git_shortlog MCP tool.\n\n## Required Functionality\n- Summarize commits grouped by author\n- Show commit counts per author\n- Support date range filtering\n- Sort by commit count or author name\n- Include/exclude merge commits\n\n## Input Schema\n- revision_range: string (optional, defaults to HEAD)\n- since: string (date filter)\n- until: string (date filter)\n- numbered: boolean (show counts)\n- summary: boolean (summary only)\n- email: boolean (show emails)\n- no_merges: boolean\n\nBlocks: GREEN implementation","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-06T13:09:38.204092-06:00","created_by":"nathanclevenger","updated_at":"2026-01-07T02:37:49.575627-06:00","closed_at":"2026-01-07T02:37:49.575627-06:00","close_reason":"Closed"}
{"id":"gitx-vdp","title":"[REFACTOR] Clean up pre-receive hook","description":"Production-ready pre-receive hook refactoring:\n- Add webhook support (HTTP POST)\n- Support async hooks\n- Add hook output streaming\n- Implement hook priority/ordering\n- Tests must continue passing","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T12:39:09.08829-06:00","created_by":"nathanclevenger","updated_at":"2026-01-07T12:39:09.08829-06:00","dependencies":[{"issue_id":"gitx-vdp","depends_on_id":"gitx-tle","type":"blocks","created_at":"2026-01-07T12:39:19.563622-06:00","created_by":"nathanclevenger"}]}
{"id":"gitx-vet","title":"[GREEN] Implement tag object storage","description":"Implement minimal code to pass tag storage tests:\n- Implement putTagObject with proper formatting\n- Implement getTagObject with field parsing\n- Handle optional tagger field\n- Parse tag message correctly\n\nFocus on making tests pass.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-07T12:35:41.700006-06:00","created_by":"nathanclevenger","updated_at":"2026-01-09T07:05:09.772837-06:00","closed_at":"2026-01-09T07:05:09.772837-06:00","close_reason":"Implemented tag object storage with optional tagger support. All 61 tests pass.","dependencies":[{"issue_id":"gitx-vet","depends_on_id":"gitx-85b","type":"blocks","created_at":"2026-01-07T12:36:06.532921-06:00","created_by":"nathanclevenger"}]}
{"id":"gitx-vf1q","title":"Remove BashModule from gitx - bash should use gitx, not contain it","description":"## Architecture Clarification\n\nThe intended architecture is:\n```\nbashx.do (Bash execution layer)\n  ├── uses fsx.do for Tier 1 operations (cat, ls, head, tail, etc.)\n  └── uses gitx.do for Tier 2 operations (git commands)\n```\n\n**gitx.do should NOT contain BashModule.** It's a git implementation that bashx.do can use for git command routing.\n\n## Current State\n\ngitx.do incorrectly has:\n- `src/do/BashModule.ts` or similar - should be removed\n- `withBash` mixin exports - should be removed or just re-export from bashx.do\n- Custom bash-ast.ts parser - bashx.do has the canonical tree-sitter based parser\n\n## Solution\n\n1. Remove the duplicate BashModule from gitx.do\n2. If users need bash capabilities on a gitx-based DO, they should compose with bashx.do:\n   ```typescript\n   import { withGit } from 'gitx.do/do'\n   import { withBash } from 'bashx.do/do'\n   \n   class MyDO extends withBash(withGit(withFs(DO))) {\n     // $.git comes from gitx\n     // $.bash comes from bashx (which routes git commands to $.git)\n   }\n   ```\n\n3. gitx.do exposes git operations that bashx.do can call for Tier 2 execution\n\n## Why This Matters\n\n- Clean separation of concerns\n- bashx.do is the canonical bash implementation with AST-based safety\n- gitx.do stays focused on git operations\n- bashx.do's tiered executor routes `git` commands to gitx.do\n- Avoids code duplication and divergence","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-09T13:57:38.693075-06:00","updated_at":"2026-01-09T14:04:18.647894-06:00","closed_at":"2026-01-09T14:04:18.647894-06:00","close_reason":"Removed BashModule and all bash-related code from gitx.do. Deleted files: BashModule.ts, bash-ast.ts, withBash.ts, and their corresponding test files. Updated container-executor.ts to define its own executor types locally rather than importing from BashModule. Updated index.ts exports. TypeScript typechecks pass. Tests pass for FsModule, GitModule, and container-executor.","labels":["architecture","breaking-change","refactor"]}
{"id":"gitx-vfy0","title":"Implement git_show, git_blame, git_ls_tree, git_cat_file MCP tools","description":"Added four new MCP tools to src/mcp/tools.ts to enable test suite to pass:\n- git_show: Shows commit information and diffs\n- git_blame: Line-by-line file attribution\n- git_ls_tree: Lists tree object contents\n- git_cat_file: Shows object content/type\n\nThese tools went from 0 tests passing to 70 tests passing.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T08:27:45.913234-06:00","updated_at":"2026-01-09T08:27:51.46902-06:00","closed_at":"2026-01-09T08:27:51.46902-06:00","close_reason":"Completed - implemented 4 MCP tools in src/mcp/tools.ts, 70 tests now passing"}
{"id":"gitx-vpq","title":"Add bounds checking to pack delta operations","description":"Delta application lacks bounds checking. Malicious delta could read beyond buffer bounds causing corruption.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-05T03:49:30.680728-06:00","updated_at":"2026-01-05T04:09:29.019412-06:00","closed_at":"2026-01-05T04:09:29.019412-06:00","close_reason":"Closed"}
{"id":"gitx-vve","title":"RED: gitx diff command with Shiki highlighting","description":"Write failing tests for diff command with syntax highlighting.\n\n## Tests to Write\n- Shows unstaged changes\n- Shows staged changes with --staged flag\n- Shows diff between commits\n- Shows diff between branches\n- Applies Shiki syntax highlighting\n- Supports split and unified view modes\n- Word-level diff highlighting","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T05:46:45.898566-06:00","updated_at":"2026-01-05T06:40:17.35931-06:00","closed_at":"2026-01-05T06:40:17.35931-06:00","close_reason":"GREEN phase complete - all tests pass","dependencies":[{"issue_id":"gitx-vve","depends_on_id":"gitx-7vz","type":"blocks","created_at":"2026-01-05T06:12:42.441105-06:00","created_by":"daemon"},{"issue_id":"gitx-vve","depends_on_id":"gitx-ani","type":"blocks","created_at":"2026-01-05T06:12:42.764475-06:00","created_by":"daemon"}]}
{"id":"gitx-vxdi","title":"[RED] MCP: git_for_each_ref tool","description":"Write failing tests for git_for_each_ref MCP tool.\n\n## Required Functionality\n- List all refs (branches, tags, remotes)\n- Filter by ref pattern\n- Sort by various fields\n- Custom output format\n- Show ref metadata\n\n## Input Schema\n- pattern: string (ref pattern, optional)\n- sort: string (field to sort by)\n- format: string (output format string)\n- count: number (limit results)\n- contains: string (filter by commit)\n- merged: string (show merged refs)\n- no_merged: string (show unmerged refs)\n\nBlocks: GREEN implementation","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-06T13:09:40.013119-06:00","created_by":"nathanclevenger","updated_at":"2026-01-07T02:42:31.908149-06:00","closed_at":"2026-01-07T02:42:31.908149-06:00","close_reason":"Closed"}
{"id":"gitx-vzv8","title":"Update package.json exports for fsx/do entry point","description":"Update package.json exports field to include the fsx/do entry point for proper module resolution.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-08T18:38:48.852464-06:00","created_by":"nathanclevenger","updated_at":"2026-01-09T02:59:23.707684-06:00","closed_at":"2026-01-09T02:59:23.707684-06:00","close_reason":"Verified fsx/do entry point exports are correctly configured. The fsx package.json exports field includes the ./do entry point pointing to dist/durable-object/index.js and dist/durable-object/index.d.ts. The durable-object/index.ts properly exports FsModule, withFs, BashModule, withBash, CloudflareContainerExecutor and FileSystemDO. This ticket was miscategorized in gitx but pertains to fsx - the fsx exports are working correctly."}
{"id":"gitx-wd9p","title":"[FEATURE] Core: Packed-refs support","description":"Implement packed-refs support for compressed ref storage.\n\n## Requirements\n- Read refs from .git/packed-refs file\n- Implement ref packing for performance optimization\n- Handle loose refs taking precedence over packed refs\n- Add 'gitx pack-refs' command\n- Support --all and --prune flags\n\n## Affected Files\n- src/core/refs.ts (add packed-refs reading/writing)\n- src/core/pack-refs.ts (new file for packing operations)\n- src/cli/commands/pack-refs.ts (new command implementation)\n- src/cli/index.ts (register pack-refs command)","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-06T13:09:24.934698-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T17:00:07.046233-06:00","closed_at":"2026-01-06T17:00:07.046233-06:00","close_reason":"Closed"}
{"id":"gitx-whi","title":"GREEN: Implement pkt-line encoding","description":"Implement pkt-line to pass tests.\n\n## Implementation\n- Length prefix is 4 hex chars\n- Length includes prefix (min 4)\n- Flush = 0000, Delim = 0001\n- Response-end = 0002\n- Side-band: 1=pack, 2=progress, 3=error","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-04T17:47:50.001317-06:00","updated_at":"2026-01-04T18:15:46.730442-06:00","closed_at":"2026-01-04T18:15:46.730442-06:00","close_reason":"Closed","dependencies":[{"issue_id":"gitx-whi","depends_on_id":"gitx-liy","type":"blocks","created_at":"2026-01-04T17:49:15.283478-06:00","created_by":"daemon"}]}
{"id":"gitx-wiis","title":"Add tagged template support for $.bash`command`","description":"Implement tagged template literal support so users can write $.bash`command` with proper interpolation and safety analysis of the resulting command string.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-08T18:38:47.703624-06:00","created_by":"nathanclevenger","updated_at":"2026-01-09T01:29:03.2032-06:00","closed_at":"2026-01-09T01:29:03.2032-06:00","close_reason":"Implemented tagged template literal support for bash commands with safe variable interpolation"}
{"id":"gitx-wz0i","title":"[RED] MCP: git_rev_parse tool","description":"Write failing tests for git_rev_parse MCP tool.\n\n## Required Functionality\n- Resolve refs to full SHA hashes\n- Parse rev specs (HEAD^, main~3, etc)\n- Validate and normalize refs\n- Support symbolic refs\n- Handle ambiguous refs\n\n## Input Schema\n- revision: string (ref/rev spec, required)\n- verify: boolean (validate existence)\n- symbolic: boolean (show symbolic name)\n- short: boolean (abbreviated SHA)\n- abbrev_length: number (SHA length)\n\nBlocks: GREEN implementation","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-06T13:09:31.462607-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T17:10:32.965859-06:00","closed_at":"2026-01-06T17:10:32.965859-06:00","close_reason":"Closed"}
{"id":"gitx-x1oj","title":"Create withBash mixin function for DO composition","description":"Create a withBash mixin function that can be used to compose BashModule functionality into any DO class.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-08T18:38:46.990857-06:00","created_by":"nathanclevenger","updated_at":"2026-01-08T20:48:20.727328-06:00","closed_at":"2026-01-08T20:48:20.727328-06:00","close_reason":"Implemented withBash mixin function for DO composition with lazy initialization of BashModule"}
{"id":"gitx-xw8g","title":"Implement FsModule with lazy initialization","description":"Implement the FsModule class with lazy initialization pattern to defer resource setup until first use.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-08T18:38:47.74437-06:00","created_by":"nathanclevenger","updated_at":"2026-01-09T01:46:02.14517-06:00","closed_at":"2026-01-09T01:46:02.14517-06:00","close_reason":"FsModule with lazy initialization fully implemented and tested. 127 tests passing."}
{"id":"gitx-xzy","title":"REFACTOR: Add Miniflare resource cleanup","description":"src/mcp/sandbox/miniflare-evaluator.ts:136-150 - Miniflare instance not properly closed on error paths","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T13:39:10.248361-06:00","updated_at":"2026-01-06T16:41:14.962748-06:00","closed_at":"2026-01-06T16:41:14.962748-06:00","close_reason":"Closed"}
{"id":"gitx-y1a","title":"[GREEN] Branch operations: Implement createBranch, deleteBranch, renameBranch","description":"## Context\nMake failing branch tests pass with minimal implementations.\n\n## GREEN Phase\nImplement in `src/refs/branch.ts`:\n\n### createBranch\n```typescript\nasync createBranch(name: string, startPoint: string = 'HEAD'): Promise\u003cvoid\u003e {\n  // 1. Resolve startPoint to SHA\n  // 2. Check branch doesn't exist\n  // 3. Write ref to refs/heads/{name}\n}\n```\n\n### deleteBranch\n```typescript\nasync deleteBranch(name: string, options?: { force?: boolean }): Promise\u003cvoid\u003e {\n  // 1. Check branch exists\n  // 2. Check not current branch\n  // 3. If not force, check fully merged\n  // 4. Delete ref\n}\n```\n\n### renameBranch\n```typescript\nasync renameBranch(oldName: string, newName: string): Promise\u003cvoid\u003e {\n  // 1. Get old ref value\n  // 2. Check new name doesn't exist\n  // 3. Create new ref\n  // 4. Delete old ref\n  // 5. Update config for upstream tracking\n}\n```\n\n## Acceptance Criteria\n- [ ] All branch tests pass\n- [ ] Minimal implementation (no over-engineering)\n- [ ] Error handling for edge cases","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-06T08:40:37.401718-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T14:08:57.627633-06:00","closed_at":"2026-01-06T14:08:57.627633-06:00","close_reason":"Closed","dependencies":[{"issue_id":"gitx-y1a","depends_on_id":"gitx-fcu","type":"blocks","created_at":"2026-01-06T08:41:13.818481-06:00","created_by":"nathanclevenger"}]}
{"id":"gitx-y2j","title":"GREEN: Implement MCP do tool","description":"TDD Green phase: Implement MCP 'do' tool for code execution. Implement: 1) doTool() function in src/mcp/tools/ 2) Integration with sandbox evaluator 3) MCP response formatting 4) Error handling","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T11:03:12.169852-06:00","updated_at":"2026-01-05T12:06:09.067849-06:00","closed_at":"2026-01-05T12:06:09.067849-06:00","close_reason":"MCP do tool implemented - all 37 tests passing"}
{"id":"gitx-y9zd","title":"Implement tiered execution with RPC bindings","description":"Implement 4-tier execution model: (1) Native in-Worker via nodejs_compat_v2/ofetch, (2) RPC bindings for jq.do/npm.do, (3) worker_loaders for dynamic npm, (4) Sandbox SDK only for true Linux needs. Auto-detect and use available bindings.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-08T19:15:26.735023-06:00","created_by":"nathanclevenger","updated_at":"2026-01-08T19:15:34.896397-06:00","closed_at":"2026-01-08T19:15:34.896397-06:00","close_reason":"Created in wrong repo, moved to bashx"}
{"id":"gitx-yadh","title":"Consolidate BashModule - import from bashx.do instead of duplicating","description":"The gitx.do package exports BashModule and withBash from src/do/ that should be imported from bashx.do instead.\n\nCurrent state:\n- gitx.do has its own BashModule exports\n- bashx.do has the canonical BashModule with AST-based safety analysis\n\nThis duplication creates maintenance burden and divergence risk.\n\nSolution:\n1. Add bashx.do as a peer dependency\n2. Re-export BashModule and withBash from bashx.do\n3. Update gitx DO integration to use the canonical bashx module","notes":"BLOCKED: After thorough analysis, full consolidation is not feasible at this time.\n\nReasons:\n1. gitx.do BashModule has unique features bashx.do lacks:\n   - Database-backed policy persistence (exec table)\n   - block()/unblock() with automatic persistence\n   - getPolicy()/updatePolicy() management APIs\n   - CallableBashModule pattern with tagged template support\n   - safetyLevel: 'safe'|'dangerous'|'critical' classification\n\n2. bashx.do uses tree-sitter-bash for AST parsing which requires WASM:\n   - May not work in all JS environments\n   - gitx.do's custom parser is simpler and universal\n\n3. API surface is significantly different:\n   - Different constructor signatures\n   - Different BashResult structure (input, valid, generated, intent vs command, stdout, stderr)\n   - Different analyze() return types\n\nRecommended path forward (future work):\n1. Create a shared types package (@dotdo/bash-types) for common interfaces\n2. Make bashx.do support optional policy management (like gitx.do has)\n3. Add wasm-free fallback parser to bashx.do\n4. Migrate gitx.do to import from bashx.do when APIs align\n\nThis issue should be split into smaller, more focused tasks:\n- Add bashx.do types to gitx.do type exports\n- Share safety classification logic\n- Consider creating unified bash primitives package","status":"blocked","priority":2,"issue_type":"task","created_at":"2026-01-09T13:20:19.794134-06:00","updated_at":"2026-01-09T13:47:07.342121-06:00","labels":["dependencies","refactor"]}
{"id":"gitx-yuy4","title":"[FEATURE] Core: Patience diff algorithm","description":"Implement patience diff algorithm for better human-readable diffs.\n\n## Requirements\n- Implement patience diff algorithm as alternative to Myers diff\n- Add --patience flag to diff/log commands\n- Provide better diffs for code with unique anchor lines\n- Maintain compatibility with standard diff output\n\n## Affected Files\n- src/core/diff.ts (add patience algorithm implementation)\n- src/cli/commands/diff.ts (add --patience flag)\n- src/cli/commands/log.ts (add --patience flag support)","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-06T13:09:21.423416-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T17:00:06.969472-06:00","closed_at":"2026-01-06T17:00:06.969472-06:00","close_reason":"Closed"}
{"id":"gitx-z4i","title":"[GREEN] Implement git-upload-pack protocol","description":"Implement minimal code to pass upload-pack tests:\n- Implement want/have parsing\n- Generate packfiles with requested objects\n- Handle capability negotiation\n- Support basic pack generation\n\nFocus on making tests pass.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-07T12:37:26.701023-06:00","created_by":"nathanclevenger","updated_at":"2026-01-07T12:37:26.701023-06:00","dependencies":[{"issue_id":"gitx-z4i","depends_on_id":"gitx-ubq","type":"blocks","created_at":"2026-01-07T12:37:42.62627-06:00","created_by":"nathanclevenger"}]}
{"id":"gitx-z6hq","title":"Foundation: GitCapability TypeScript interfaces","description":"Define GitCapability interface with all git operations (clone, pull, push, commit, status, log, diff). Export from gitx/types. Include GitStatus, Commit, and supporting types.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-08T19:18:45.182463-06:00","created_by":"nathanclevenger","updated_at":"2026-01-09T09:03:59.818526-06:00","closed_at":"2026-01-09T09:03:59.818526-06:00","close_reason":"GitCapability TypeScript interfaces completed and exported from both types/index.ts and main index.ts. Created consolidated interfaces.ts with common DO integration types.","labels":["foundation","types"]}
{"id":"gitx-zo5","title":"[REFACTOR] Remove global RepositoryContext from MCP tools","description":"## Context\n`src/mcp/tools.ts` uses global state:\n```typescript\nlet globalRepositoryContext: RepositoryContext | null = null\n```\n\nThis couples tool handlers to global state, making testing harder and preventing concurrent repository access.\n\n## REFACTOR Phase\n1. Modify tool handler signature to accept context explicitly:\n```typescript\nexport type MCPToolHandler = (\n  params: Record\u003cstring, unknown\u003e,\n  context: RepositoryContext\n) =\u003e Promise\u003cMCPToolResult\u003e\n```\n\n2. Update MCPAdapter to pass context to handlers:\n```typescript\nasync invokeTool(name: string, params: Record\u003cstring, unknown\u003e): Promise\u003cMCPToolResult\u003e {\n  const tool = this.getTool(name)\n  return tool.handler(params, this.context)\n}\n```\n\n3. Remove global state variable\n\n## Acceptance Criteria\n- [ ] No global RepositoryContext\n- [ ] Context passed explicitly to handlers\n- [ ] All existing tests pass\n- [ ] Enables future concurrent repository support","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T08:39:49.076454-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T16:51:47.480145-06:00","closed_at":"2026-01-06T16:51:47.480145-06:00","close_reason":"Closed","dependencies":[{"issue_id":"gitx-zo5","depends_on_id":"gitx-m1q","type":"blocks","created_at":"2026-01-06T08:40:23.782964-06:00","created_by":"nathanclevenger"}]}
